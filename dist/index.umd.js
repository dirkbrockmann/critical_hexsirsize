(function(){"use strict";try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('/*! tailwindcss v4.1.4 | MIT License | https://tailwindcss.com */@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-font-weight:initial}}}@layer theme{:root,:host{--tw-font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--tw-spacing:.25rem;--tw-container-5xl:64rem;--tw-text-2xl:1.5rem;--tw-text-2xl--line-height:calc(2/1.5);--tw-text-3xl:1.875rem;--tw-text-3xl--line-height: 1.2 ;--tw-text-5xl:3rem;--tw-text-5xl--line-height:1;--tw-font-weight-light:300}}@layer base,components;@layer utilities{.tw\\:m-8{margin:calc(var(--tw-spacing)*8)}.tw\\:grid{display:grid}.tw\\:max-w-5xl{max-width:var(--tw-container-5xl)}.tw\\:grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.tw\\:p-0{padding:calc(var(--tw-spacing)*0)}.tw\\:px-1{padding-inline:calc(var(--tw-spacing)*1)}.tw\\:px-10{padding-inline:calc(var(--tw-spacing)*10)}.tw\\:font-sans{font-family:var(--tw-font-sans)}.tw\\:text-2xl{font-size:var(--tw-text-2xl);line-height:var(--tw-leading,var(--tw-text-2xl--line-height))}.tw\\:text-3xl{font-size:var(--tw-text-3xl);line-height:var(--tw-leading,var(--tw-text-3xl--line-height))}.tw\\:text-5xl{font-size:var(--tw-text-5xl);line-height:var(--tw-leading,var(--tw-text-5xl--line-height))}.tw\\:font-light{--tw-font-weight:var(--tw-font-weight-light);font-weight:var(--tw-font-weight-light)}@media (min-width:40rem){.tw\\:sm\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.tw\\:sm\\:gap-4{gap:calc(var(--tw-spacing)*4)}.tw\\:sm\\:gap-8{gap:calc(var(--tw-spacing)*8)}.tw\\:sm\\:p-0{padding:calc(var(--tw-spacing)*0)}}.debug-grid-16{background-image:linear-gradient(90deg,#0000ff1a 1px,#0000 1px),linear-gradient(#0000ff1a 1px,#0000 1px);background-repeat:repeat;background-size:6.25% 6.25%,6.25% 6.25%}}.explorable *,.explorable :before,.explorable :after{box-sizing:border-box}@property --tw-font-weight{syntax:"*";inherits:false}._widget_18g36_1{stroke:#969696;stroke-width:1px;cursor:pointer;pointer-events:all;stroke-opacity:1;fill-opacity:1;fill:#ccc;font-size:16px}._widget_18g36_1 ._title_18g36_12{font-size:20px;fill:#000;stroke:none;text-anchor:middle}._widget_18g36_1 ._label_18g36_19{fill:#000;stroke:none}._widget_18g36_1 ._lit_18g36_24{fill:#eee}._button_18g36_29>._symbol_18g36_29,._radio_18g36_29>._radiobutton_18g36_29>._symbol_18g36_29{fill:#fff;fill-rule:nonzero;pointer-events:none}._widget_18g36_1 ._symbol_18g36_29._selected_18g36_35,._toggle_18g36_35._selected_18g36_35,._widget_18g36_1 ._symbol_18g36_29._selected_18g36_35._lit_18g36_24{fill:#000}._widget_18g36_1 ._symbol_18g36_29._lit_18g36_24{fill:#bbb}._slider_18g36_44>._track_18g36_44,._toggle_18g36_35>._track_18g36_44{pointer-events:none}._slider_18g36_44>._track_overlay_18g36_48,._toggle_18g36_35>._track_overlay_18g36_48{pointer-events:all;cursor:pointer;fill:transparent;stroke:transparent}._slider_18g36_44>._handle_18g36_55,._toggle_18g36_35>._handle_18g36_55{fill:#fff}._legend_bbbfp_1{font-size:16px;alignment-baseline:middle}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();
(function(O,wt){typeof exports=="object"&&typeof module<"u"?wt(exports):typeof define=="function"&&define.amd?define(["exports"],wt):(O=typeof globalThis<"u"?globalThis:O||self,wt(O.critical_hexsirsize={}))})(this,function(O){"use strict";const wt={display_type:"canvas",debug:!1,controls_border:"",display_border:"",debug_lattice:"debug-grid-16",controls_grid:{nx:12,ny:12},display_size:{width:1005,height:1005},controls_size:{width:480,height:480},display_class:" tw:p-0",controls_class:"tw:p-0",container_class:"tw:font-sans tw:grid tw:grid-cols-1 tw:sm:grid-cols-2 tw:sm:gap-8 tw:px-1 tw:sm:p-0 tw:m-8"};function Wt(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function ji(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function He(t){let n,e,r;t.length!==2?(n=Wt,e=(s,l)=>Wt(t(s),l),r=(s,l)=>t(s)-l):(n=t===Wt||t===ji?t:to,e=t,r=t);function i(s,l,u=0,h=s.length){if(u<h){if(n(l,l)!==0)return h;do{const d=u+h>>>1;e(s[d],l)<0?u=d+1:h=d}while(u<h)}return u}function o(s,l,u=0,h=s.length){if(u<h){if(n(l,l)!==0)return h;do{const d=u+h>>>1;e(s[d],l)<=0?u=d+1:h=d}while(u<h)}return u}function a(s,l,u=0,h=s.length){const d=i(s,l,u,h-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function to(){return 0}function no(t){return t===null?NaN:+t}const eo=He(Wt).right;He(no).center;class Ne extends Map{constructor(n,e=oo){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(Be(this,n))}has(n){return super.has(Be(this,n))}set(n,e){return super.set(ro(this,n),e)}delete(n){return super.delete(io(this,n))}}function Be({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function ro({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function io({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function oo(t){return t!==null&&typeof t=="object"?t.valueOf():t}const ao=Math.sqrt(50),so=Math.sqrt(10),uo=Math.sqrt(2);function Jt(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=ao?10:o>=so?5:o>=uo?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(n*u),s/u<t&&++s,l/u>n&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(n/u),s*u<t&&++s,l*u>n&&--l),l<s&&.5<=e&&e<2?Jt(t,n,e*2):[s,l,u]}function lo(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,o,a]=r?Jt(n,t,e):Jt(t,n,e);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function qn(t,n,e){return n=+n,t=+t,e=+e,Jt(t,n,e)[2]}function fo(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?qn(n,t,e):qn(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function Qt(t,n){let e;for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);return e}function co(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,o=new Array(i);++r<i;)o[r]=t+r*e;return o}var ho={value:()=>{}};function Hn(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new jt(e)}function jt(t){this._=t}function po(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}jt.prototype=Hn.prototype={constructor:jt,on:function(t,n){var e=this._,r=po(t+"",e),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=go(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<a;)if(i=(t=r[o]).type)e[i]=Xe(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Xe(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new jt(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function go(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Xe(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=ho,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var Nn="http://www.w3.org/1999/xhtml";const Ue={svg:"http://www.w3.org/2000/svg",xhtml:Nn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tn(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Ue.hasOwnProperty(n)?{space:Ue[n],local:t}:t}function yo(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Nn&&n.documentElement.namespaceURI===Nn?n.createElement(t):n.createElementNS(e,t)}}function mo(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ge(t){var n=tn(t);return(n.local?mo:yo)(n)}function _o(){}function Bn(t){return t==null?_o:function(){return this.querySelector(t)}}function vo(t){typeof t!="function"&&(t=Bn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,s=r[i]=new Array(a),l,u,h=0;h<a;++h)(l=o[h])&&(u=t.call(l,l.__data__,h,o))&&("__data__"in l&&(u.__data__=l.__data__),s[h]=u);return new F(r,this._parents)}function wo(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function bo(){return[]}function Ye(t){return t==null?bo:function(){return this.querySelectorAll(t)}}function xo(t){return function(){return wo(t.apply(this,arguments))}}function Mo(t){typeof t=="function"?t=xo(t):t=Ye(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a=n[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(r.push(t.call(l,l.__data__,u,a)),i.push(l));return new F(r,i)}function Ke(t){return function(){return this.matches(t)}}function Ve(t){return function(n){return n.matches(t)}}var $o=Array.prototype.find;function To(t){return function(){return $o.call(this.children,t)}}function Ao(){return this.firstElementChild}function So(t){return this.select(t==null?Ao:To(typeof t=="function"?t:Ve(t)))}var Po=Array.prototype.filter;function Eo(){return Array.from(this.children)}function Oo(t){return function(){return Po.call(this.children,t)}}function Io(t){return this.selectAll(t==null?Eo:Oo(typeof t=="function"?t:Ve(t)))}function zo(t){typeof t!="function"&&(t=Ke(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&s.push(l);return new F(r,this._parents)}function Ze(t){return new Array(t.length)}function Co(){return new F(this._enter||this._groups.map(Ze),this._parents)}function nn(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}nn.prototype={constructor:nn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ro(t){return function(){return t}}function ko(t,n,e,r,i,o){for(var a=0,s,l=n.length,u=o.length;a<u;++a)(s=n[a])?(s.__data__=o[a],r[a]=s):e[a]=new nn(t,o[a]);for(;a<l;++a)(s=n[a])&&(i[a]=s)}function Fo(t,n,e,r,i,o,a){var s,l,u=new Map,h=n.length,d=o.length,c=new Array(h),f;for(s=0;s<h;++s)(l=n[s])&&(c[s]=f=a.call(l,l.__data__,s,n)+"",u.has(f)?i[s]=l:u.set(f,l));for(s=0;s<d;++s)f=a.call(t,o[s],s,o)+"",(l=u.get(f))?(r[s]=l,l.__data__=o[s],u.delete(f)):e[s]=new nn(t,o[s]);for(s=0;s<h;++s)(l=n[s])&&u.get(c[s])===l&&(i[s]=l)}function Do(t){return t.__data__}function Lo(t,n){if(!arguments.length)return Array.from(this,Do);var e=n?Fo:ko,r=this._parents,i=this._groups;typeof t!="function"&&(t=Ro(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var h=r[u],d=i[u],c=d.length,f=qo(t.call(h,h&&h.__data__,u,r)),p=f.length,_=s[u]=new Array(p),g=a[u]=new Array(p),m=l[u]=new Array(c);e(h,d,_,g,m,f,n);for(var x=0,T=0,y,w;x<p;++x)if(y=_[x]){for(x>=T&&(T=x+1);!(w=g[T])&&++T<p;);y._next=w||null}}return a=new F(a,r),a._enter=s,a._exit=l,a}function qo(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ho(){return new F(this._exit||this._groups.map(Ze),this._parents)}function No(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function Bo(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u=e[l],h=r[l],d=u.length,c=s[l]=new Array(d),f,p=0;p<d;++p)(f=u[p]||h[p])&&(c[p]=f);for(;l<i;++l)s[l]=e[l];return new F(s,this._parents)}function Xo(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Uo(t){t||(t=Go);function n(d,c){return d&&c?t(d.__data__,c.__data__):!d-!c}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a=e[o],s=a.length,l=i[o]=new Array(s),u,h=0;h<s;++h)(u=a[h])&&(l[h]=u);l.sort(n)}return new F(i,this._parents).order()}function Go(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Yo(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ko(){return Array.from(this)}function Vo(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Zo(){let t=0;for(const n of this)++t;return t}function Wo(){return!this.node()}function Jo(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function Qo(t){return function(){this.removeAttribute(t)}}function jo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ta(t,n){return function(){this.setAttribute(t,n)}}function na(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function ea(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function ra(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function ia(t,n){var e=tn(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?jo:Qo:typeof n=="function"?e.local?ra:ea:e.local?na:ta)(e,n))}function We(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function oa(t){return function(){this.style.removeProperty(t)}}function aa(t,n,e){return function(){this.style.setProperty(t,n,e)}}function sa(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function ua(t,n,e){return arguments.length>1?this.each((n==null?oa:typeof n=="function"?sa:aa)(t,n,e??"")):bt(this.node(),t)}function bt(t,n){return t.style.getPropertyValue(n)||We(t).getComputedStyle(t,null).getPropertyValue(n)}function la(t){return function(){delete this[t]}}function fa(t,n){return function(){this[t]=n}}function ca(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function ha(t,n){return arguments.length>1?this.each((n==null?la:typeof n=="function"?ca:fa)(t,n)):this.node()[t]}function Je(t){return t.trim().split(/^|\s+/)}function Xn(t){return t.classList||new Qe(t)}function Qe(t){this._node=t,this._names=Je(t.getAttribute("class")||"")}Qe.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function je(t,n){for(var e=Xn(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function tr(t,n){for(var e=Xn(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function pa(t){return function(){je(this,t)}}function da(t){return function(){tr(this,t)}}function ga(t,n){return function(){(n.apply(this,arguments)?je:tr)(this,t)}}function ya(t,n){var e=Je(t+"");if(arguments.length<2){for(var r=Xn(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?ga:n?pa:da)(e,n))}function ma(){this.textContent=""}function _a(t){return function(){this.textContent=t}}function va(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function wa(t){return arguments.length?this.each(t==null?ma:(typeof t=="function"?va:_a)(t)):this.node().textContent}function ba(){this.innerHTML=""}function xa(t){return function(){this.innerHTML=t}}function Ma(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function $a(t){return arguments.length?this.each(t==null?ba:(typeof t=="function"?Ma:xa)(t)):this.node().innerHTML}function Ta(){this.nextSibling&&this.parentNode.appendChild(this)}function Aa(){return this.each(Ta)}function Sa(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Pa(){return this.each(Sa)}function Ea(t){var n=typeof t=="function"?t:Ge(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Oa(){return null}function Ia(t,n){var e=typeof t=="function"?t:Ge(t),r=n==null?Oa:typeof n=="function"?n:Bn(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function za(){var t=this.parentNode;t&&t.removeChild(this)}function Ca(){return this.each(za)}function Ra(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function ka(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Fa(t){return this.select(t?ka:Ra)}function Da(t){return arguments.length?this.property("__data__",t):this.node().__data__}function La(t){return function(n){t.call(this,n,this.__data__)}}function qa(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function Ha(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function Na(t,n,e){return function(){var r=this.__on,i,o=La(n);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function Ba(t,n,e){var r=qa(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,h;l<u;++l)for(i=0,h=s[l];i<o;++i)if((a=r[i]).type===h.type&&a.name===h.name)return h.value}return}for(s=n?Na:Ha,i=0;i<o;++i)this.each(s(r[i],n,e));return this}function nr(t,n,e){var r=We(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Xa(t,n){return function(){return nr(this,t,n)}}function Ua(t,n){return function(){return nr(this,t,n.apply(this,arguments))}}function Ga(t,n){return this.each((typeof n=="function"?Ua:Xa)(t,n))}function*Ya(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var er=[null];function F(t,n){this._groups=t,this._parents=n}function zt(){return new F([[document.documentElement]],er)}function Ka(){return this}F.prototype=zt.prototype={constructor:F,select:vo,selectAll:Mo,selectChild:So,selectChildren:Io,filter:zo,data:Lo,enter:Co,exit:Ho,join:No,merge:Bo,selection:Ka,order:Xo,sort:Uo,call:Yo,nodes:Ko,node:Vo,size:Zo,empty:Wo,each:Jo,attr:ia,style:ua,property:ha,classed:ya,text:wa,html:$a,raise:Aa,lower:Pa,append:Ea,insert:Ia,remove:Ca,clone:Fa,datum:Da,on:Ba,dispatch:Ga,[Symbol.iterator]:Ya};function S(t){return typeof t=="string"?new F([[document.querySelector(t)]],[document.documentElement]):new F([[t]],er)}function Va(t){let n;for(;n=t.sourceEvent;)t=n;return t}function Un(t,n){if(t=Va(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}const Za={passive:!1},Ct={capture:!0,passive:!1};function Gn(t){t.stopImmediatePropagation()}function xt(t){t.preventDefault(),t.stopImmediatePropagation()}function Wa(t){var n=t.document.documentElement,e=S(t).on("dragstart.drag",xt,Ct);"onselectstart"in n?e.on("selectstart.drag",xt,Ct):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Ja(t,n){var e=t.document.documentElement,r=S(t).on("dragstart.drag",null);n&&(r.on("click.drag",xt,Ct),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}const en=t=>()=>t;function Yn(t,{sourceEvent:n,subject:e,target:r,identifier:i,active:o,x:a,y:s,dx:l,dy:u,dispatch:h}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:h}})}Yn.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Qa(t){return!t.ctrlKey&&!t.button}function ja(){return this.parentNode}function ts(t,n){return n??{x:t.x,y:t.y}}function ns(){return navigator.maxTouchPoints||"ontouchstart"in this}function es(){var t=Qa,n=ja,e=ts,r=ns,i={},o=Hn("start","drag","end"),a=0,s,l,u,h,d=0;function c(y){y.on("mousedown.drag",f).filter(r).on("touchstart.drag",g).on("touchmove.drag",m,Za).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(y,w){if(!(h||!t.call(this,y,w))){var A=T(this,n.call(this,y,w),y,w,"mouse");A&&(S(y.view).on("mousemove.drag",p,Ct).on("mouseup.drag",_,Ct),Wa(y.view),Gn(y),u=!1,s=y.clientX,l=y.clientY,A("start",y))}}function p(y){if(xt(y),!u){var w=y.clientX-s,A=y.clientY-l;u=w*w+A*A>d}i.mouse("drag",y)}function _(y){S(y.view).on("mousemove.drag mouseup.drag",null),Ja(y.view,u),xt(y),i.mouse("end",y)}function g(y,w){if(t.call(this,y,w)){var A=y.changedTouches,E=n.call(this,y,w),I=A.length,K,ot;for(K=0;K<I;++K)(ot=T(this,E,y,w,A[K].identifier,A[K]))&&(Gn(y),ot("start",y,A[K]))}}function m(y){var w=y.changedTouches,A=w.length,E,I;for(E=0;E<A;++E)(I=i[w[E].identifier])&&(xt(y),I("drag",y,w[E]))}function x(y){var w=y.changedTouches,A=w.length,E,I;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),E=0;E<A;++E)(I=i[w[E].identifier])&&(Gn(y),I("end",y,w[E]))}function T(y,w,A,E,I,K){var ot=o.copy(),b=Un(K||A,w),V,z,X;if((X=e.call(y,new Yn("beforestart",{sourceEvent:A,target:c,identifier:I,active:a,x:b[0],y:b[1],dx:0,dy:0,dispatch:ot}),E))!=null)return V=X.x-b[0]||0,z=X.y-b[1]||0,function Ln(lt,vt,It){var D=b,qe;switch(lt){case"start":i[I]=Ln,qe=a++;break;case"end":delete i[I],--a;case"drag":b=Un(It||vt,w),qe=a;break}ot.call(lt,y,new Yn(lt,{sourceEvent:vt,subject:X,target:c,identifier:I,active:qe,x:b[0]+V,y:b[1]+z,dx:b[0]-D[0],dy:b[1]-D[1],dispatch:ot}),E)}}return c.filter=function(y){return arguments.length?(t=typeof y=="function"?y:en(!!y),c):t},c.container=function(y){return arguments.length?(n=typeof y=="function"?y:en(y),c):n},c.subject=function(y){return arguments.length?(e=typeof y=="function"?y:en(y),c):e},c.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:en(!!y),c):r},c.on=function(){var y=o.on.apply(o,arguments);return y===o?c:y},c.clickDistance=function(y){return arguments.length?(d=(y=+y)*y,c):Math.sqrt(d)},c}function Kn(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function rr(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Rt(){}var kt=.7,rn=1/kt,Mt="\\s*([+-]?\\d+)\\s*",Ft="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",U="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rs=/^#([0-9a-f]{3,8})$/,is=new RegExp(`^rgb\\(${Mt},${Mt},${Mt}\\)$`),os=new RegExp(`^rgb\\(${U},${U},${U}\\)$`),as=new RegExp(`^rgba\\(${Mt},${Mt},${Mt},${Ft}\\)$`),ss=new RegExp(`^rgba\\(${U},${U},${U},${Ft}\\)$`),us=new RegExp(`^hsl\\(${Ft},${U},${U}\\)$`),ls=new RegExp(`^hsla\\(${Ft},${U},${U},${Ft}\\)$`),ir={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Kn(Rt,ft,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:or,formatHex:or,formatHex8:fs,formatHsl:cs,formatRgb:ar,toString:ar});function or(){return this.rgb().formatHex()}function fs(){return this.rgb().formatHex8()}function cs(){return cr(this).formatHsl()}function ar(){return this.rgb().formatRgb()}function ft(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=rs.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?sr(n):e===3?new C(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?on(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?on(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=is.exec(t))?new C(n[1],n[2],n[3],1):(n=os.exec(t))?new C(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=as.exec(t))?on(n[1],n[2],n[3],n[4]):(n=ss.exec(t))?on(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=us.exec(t))?fr(n[1],n[2]/100,n[3]/100,1):(n=ls.exec(t))?fr(n[1],n[2]/100,n[3]/100,n[4]):ir.hasOwnProperty(t)?sr(ir[t]):t==="transparent"?new C(NaN,NaN,NaN,0):null}function sr(t){return new C(t>>16&255,t>>8&255,t&255,1)}function on(t,n,e,r){return r<=0&&(t=n=e=NaN),new C(t,n,e,r)}function hs(t){return t instanceof Rt||(t=ft(t)),t?(t=t.rgb(),new C(t.r,t.g,t.b,t.opacity)):new C}function Vn(t,n,e,r){return arguments.length===1?hs(t):new C(t,n,e,r??1)}function C(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}Kn(C,Vn,rr(Rt,{brighter(t){return t=t==null?rn:Math.pow(rn,t),new C(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?kt:Math.pow(kt,t),new C(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new C(ct(this.r),ct(this.g),ct(this.b),an(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ur,formatHex:ur,formatHex8:ps,formatRgb:lr,toString:lr}));function ur(){return`#${ht(this.r)}${ht(this.g)}${ht(this.b)}`}function ps(){return`#${ht(this.r)}${ht(this.g)}${ht(this.b)}${ht((isNaN(this.opacity)?1:this.opacity)*255)}`}function lr(){const t=an(this.opacity);return`${t===1?"rgb(":"rgba("}${ct(this.r)}, ${ct(this.g)}, ${ct(this.b)}${t===1?")":`, ${t})`}`}function an(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ct(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ht(t){return t=ct(t),(t<16?"0":"")+t.toString(16)}function fr(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new L(t,n,e,r)}function cr(t){if(t instanceof L)return new L(t.h,t.s,t.l,t.opacity);if(t instanceof Rt||(t=ft(t)),!t)return new L;if(t instanceof L)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,s=o-i,l=(o+i)/2;return s?(n===o?a=(e-r)/s+(e<r)*6:e===o?a=(r-n)/s+2:a=(n-e)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new L(a,s,l,t.opacity)}function ds(t,n,e,r){return arguments.length===1?cr(t):new L(t,n,e,r??1)}function L(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Kn(L,ds,rr(Rt,{brighter(t){return t=t==null?rn:Math.pow(rn,t),new L(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?kt:Math.pow(kt,t),new L(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new C(Zn(t>=240?t-240:t+120,i,r),Zn(t,i,r),Zn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new L(hr(this.h),sn(this.s),sn(this.l),an(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=an(this.opacity);return`${t===1?"hsl(":"hsla("}${hr(this.h)}, ${sn(this.s)*100}%, ${sn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function hr(t){return t=(t||0)%360,t<0?t+360:t}function sn(t){return Math.max(0,Math.min(1,t||0))}function Zn(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const Wn=t=>()=>t;function gs(t,n){return function(e){return t+e*n}}function ys(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function ms(t){return(t=+t)==1?pr:function(n,e){return e-n?ys(n,e,t):Wn(isNaN(n)?e:n)}}function pr(t,n){var e=n-t;return e?gs(t,e):Wn(isNaN(t)?n:t)}const un=function t(n){var e=ms(n);function r(i,o){var a=e((i=Vn(i)).r,(o=Vn(o)).r),s=e(i.g,o.g),l=e(i.b,o.b),u=pr(i.opacity,o.opacity);return function(h){return i.r=a(h),i.g=s(h),i.b=l(h),i.opacity=u(h),i+""}}return r.gamma=t,r}(1);function _s(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function vs(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ws(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=jn(t[a],n[a]);for(;a<e;++a)o[a]=n[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function bs(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function q(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function xs(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=jn(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var Jn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qn=new RegExp(Jn.source,"g");function Ms(t){return function(){return t}}function $s(t){return function(n){return t(n)+""}}function dr(t,n){var e=Jn.lastIndex=Qn.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",n=n+"";(r=Jn.exec(t))&&(i=Qn.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:q(r,i)})),e=Qn.lastIndex;return e<n.length&&(o=n.slice(e),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?$s(l[0].x):Ms(n):(n=l.length,function(u){for(var h=0,d;h<n;++h)s[(d=l[h]).i]=d.x(u);return s.join("")})}function jn(t,n){var e=typeof n,r;return n==null||e==="boolean"?Wn(n):(e==="number"?q:e==="string"?(r=ft(n))?(n=r,un):dr:n instanceof ft?un:n instanceof Date?bs:vs(n)?_s:Array.isArray(n)?ws:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?xs:q)(t,n)}function Ts(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var gr=180/Math.PI,te={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function yr(t,n,e,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(l=t*e+n*r)&&(e-=t*l,r-=n*l),(s=Math.sqrt(e*e+r*r))&&(e/=s,r/=s,l/=s),t*r<n*e&&(t=-t,n=-n,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*gr,skewX:Math.atan(l)*gr,scaleX:a,scaleY:s}}var ln;function As(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?te:yr(n.a,n.b,n.c,n.d,n.e,n.f)}function Ss(t){return t==null||(ln||(ln=document.createElementNS("http://www.w3.org/2000/svg","g")),ln.setAttribute("transform",t),!(t=ln.transform.baseVal.consolidate()))?te:(t=t.matrix,yr(t.a,t.b,t.c,t.d,t.e,t.f))}function mr(t,n,e,r){function i(u){return u.length?u.pop()+" ":""}function o(u,h,d,c,f,p){if(u!==d||h!==c){var _=f.push("translate(",null,n,null,e);p.push({i:_-4,x:q(u,d)},{i:_-2,x:q(h,c)})}else(d||c)&&f.push("translate("+d+n+c+e)}function a(u,h,d,c){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),c.push({i:d.push(i(d)+"rotate(",null,r)-2,x:q(u,h)})):h&&d.push(i(d)+"rotate("+h+r)}function s(u,h,d,c){u!==h?c.push({i:d.push(i(d)+"skewX(",null,r)-2,x:q(u,h)}):h&&d.push(i(d)+"skewX("+h+r)}function l(u,h,d,c,f,p){if(u!==d||h!==c){var _=f.push(i(f)+"scale(",null,",",null,")");p.push({i:_-4,x:q(u,d)},{i:_-2,x:q(h,c)})}else(d!==1||c!==1)&&f.push(i(f)+"scale("+d+","+c+")")}return function(u,h){var d=[],c=[];return u=t(u),h=t(h),o(u.translateX,u.translateY,h.translateX,h.translateY,d,c),a(u.rotate,h.rotate,d,c),s(u.skewX,h.skewX,d,c),l(u.scaleX,u.scaleY,h.scaleX,h.scaleY,d,c),u=h=null,function(f){for(var p=-1,_=c.length,g;++p<_;)d[(g=c[p]).i]=g.x(f);return d.join("")}}}var Ps=mr(As,"px, ","px)","deg)"),Es=mr(Ss,", ",")",")"),$t=0,Dt=0,Lt=0,_r=1e3,fn,qt,cn=0,pt=0,hn=0,Ht=typeof performance=="object"&&performance.now?performance:Date,vr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function pn(){return pt||(vr(Os),pt=Ht.now()+hn)}function Os(){pt=0}function Nt(){this._call=this._time=this._next=null}Nt.prototype=wr.prototype={constructor:Nt,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?pn():+e)+(n==null?0:+n),!this._next&&qt!==this&&(qt?qt._next=this:fn=this,qt=this),this._call=t,this._time=e,ne()},stop:function(){this._call&&(this._call=null,this._time=1/0,ne())}};function wr(t,n,e){var r=new Nt;return r.restart(t,n,e),r}function Is(){pn(),++$t;for(var t=fn,n;t;)(n=pt-t._time)>=0&&t._call.call(void 0,n),t=t._next;--$t}function br(){pt=(cn=Ht.now())+hn,$t=Dt=0;try{Is()}finally{$t=0,Cs(),pt=0}}function zs(){var t=Ht.now(),n=t-cn;n>_r&&(hn-=n,cn=t)}function Cs(){for(var t,n=fn,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:fn=e);qt=t,ne(r)}function ne(t){if(!$t){Dt&&(Dt=clearTimeout(Dt));var n=t-pt;n>24?(t<1/0&&(Dt=setTimeout(br,t-Ht.now()-hn)),Lt&&(Lt=clearInterval(Lt))):(Lt||(cn=Ht.now(),Lt=setInterval(zs,_r)),$t=1,vr(br))}}function xr(t,n,e){var r=new Nt;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}function Rs(t,n,e){var r=new Nt,i=n;return r._restart=r.restart,r.restart=function(o,a,s){a=+a,s=s==null?pn():+s,r._restart(function l(u){u+=i,r._restart(l,i+=a,s),o(u)},a,s)},r.restart(t,n,e),r}var ks=Hn("start","end","cancel","interrupt"),Fs=[],Mr=0,$r=1,ee=2,dn=3,Tr=4,re=5,gn=6;function yn(t,n,e,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(e in a)return;Ds(t,e,{name:n,index:r,group:i,on:ks,tween:Fs,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Mr})}function ie(t,n){var e=H(t,n);if(e.state>Mr)throw new Error("too late; already scheduled");return e}function G(t,n){var e=H(t,n);if(e.state>dn)throw new Error("too late; already running");return e}function H(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Ds(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=wr(o,0,e.time);function o(u){e.state=$r,e.timer.restart(a,e.delay,e.time),e.delay<=u&&a(u-e.delay)}function a(u){var h,d,c,f;if(e.state!==$r)return l();for(h in r)if(f=r[h],f.name===e.name){if(f.state===dn)return xr(a);f.state===Tr?(f.state=gn,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete r[h]):+h<n&&(f.state=gn,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete r[h])}if(xr(function(){e.state===dn&&(e.state=Tr,e.timer.restart(s,e.delay,e.time),s(u))}),e.state=ee,e.on.call("start",t,t.__data__,e.index,e.group),e.state===ee){for(e.state=dn,i=new Array(c=e.tween.length),h=0,d=-1;h<c;++h)(f=e.tween[h].value.call(t,t.__data__,e.index,e.group))&&(i[++d]=f);i.length=d+1}}function s(u){for(var h=u<e.duration?e.ease.call(null,u/e.duration):(e.timer.restart(l),e.state=re,1),d=-1,c=i.length;++d<c;)i[d].call(t,h);e.state===re&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){e.state=gn,e.timer.stop(),delete r[n];for(var u in r)return;delete t.__transition}}function Ls(t,n){var e=t.__transition,r,i,o=!0,a;if(e){n=n==null?null:n+"";for(a in e){if((r=e[a]).name!==n){o=!1;continue}i=r.state>ee&&r.state<re,r.state=gn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[a]}o&&delete t.__transition}}function qs(t){return this.each(function(){Ls(this,t)})}function Hs(t,n){var e,r;return function(){var i=G(this,t),o=i.tween;if(o!==e){r=e=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===n){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Ns(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=G(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:n,value:e},l=0,u=i.length;l<u;++l)if(i[l].name===n){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function Bs(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=H(this.node(),e).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((n==null?Hs:Ns)(e,t,n))}function oe(t,n,e){var r=t._id;return t.each(function(){var i=G(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return H(i,r).value[n]}}function Ar(t,n){var e;return(typeof n=="number"?q:n instanceof ft?un:(e=ft(n))?(n=e,un):dr)(t,n)}function Xs(t){return function(){this.removeAttribute(t)}}function Us(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Gs(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=n(r=a,e)}}function Ys(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=n(r=a,e)}}function Ks(t,n,e){var r,i,o;return function(){var a,s=e(this),l;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=n(r=a,s)))}}function Vs(t,n,e){var r,i,o;return function(){var a,s=e(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=n(r=a,s)))}}function Zs(t,n){var e=tn(t),r=e==="transform"?Es:Ar;return this.attrTween(t,typeof n=="function"?(e.local?Vs:Ks)(e,r,oe(this,"attr."+t,n)):n==null?(e.local?Us:Xs)(e):(e.local?Ys:Gs)(e,r,n))}function Ws(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Js(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Qs(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&Js(t,o)),e}return i._value=n,i}function js(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&Ws(t,o)),e}return i._value=n,i}function tu(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=tn(t);return this.tween(e,(r.local?Qs:js)(r,n))}function nu(t,n){return function(){ie(this,t).delay=+n.apply(this,arguments)}}function eu(t,n){return n=+n,function(){ie(this,t).delay=n}}function ru(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?nu:eu)(n,t)):H(this.node(),n).delay}function iu(t,n){return function(){G(this,t).duration=+n.apply(this,arguments)}}function ou(t,n){return n=+n,function(){G(this,t).duration=n}}function au(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?iu:ou)(n,t)):H(this.node(),n).duration}function su(t,n){if(typeof n!="function")throw new Error;return function(){G(this,t).ease=n}}function uu(t){var n=this._id;return arguments.length?this.each(su(n,t)):H(this.node(),n).ease}function lu(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;G(this,t).ease=e}}function fu(t){if(typeof t!="function")throw new Error;return this.each(lu(this._id,t))}function cu(t){typeof t!="function"&&(t=Ke(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&s.push(l);return new Z(r,this._parents,this._name,this._id)}function hu(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=n[s],u=e[s],h=l.length,d=a[s]=new Array(h),c,f=0;f<h;++f)(c=l[f]||u[f])&&(d[f]=c);for(;s<r;++s)a[s]=n[s];return new Z(a,this._parents,this._name,this._id)}function pu(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function du(t,n,e){var r,i,o=pu(n)?ie:G;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(n,e),a.on=i}}function gu(t,n){var e=this._id;return arguments.length<2?H(this.node(),e).on.on(t):this.each(du(e,t,n))}function yu(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function mu(){return this.on("end.remove",yu(this._id))}function _u(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Bn(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,u=o[a]=new Array(l),h,d,c=0;c<l;++c)(h=s[c])&&(d=t.call(h,h.__data__,c,s))&&("__data__"in h&&(d.__data__=h.__data__),u[c]=d,yn(u[c],n,e,c,u,H(h,e)));return new Z(o,this._parents,n,e)}function vu(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Ye(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],u=l.length,h,d=0;d<u;++d)if(h=l[d]){for(var c=t.call(h,h.__data__,d,l),f,p=H(h,e),_=0,g=c.length;_<g;++_)(f=c[_])&&yn(f,n,e,_,c,p);o.push(c),a.push(h)}return new Z(o,a,n,e)}var wu=zt.prototype.constructor;function bu(){return new wu(this._groups,this._parents)}function xu(t,n){var e,r,i;return function(){var o=bt(this,t),a=(this.style.removeProperty(t),bt(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}function Sr(t){return function(){this.style.removeProperty(t)}}function Mu(t,n,e){var r,i=e+"",o;return function(){var a=bt(this,t);return a===i?null:a===r?o:o=n(r=a,e)}}function $u(t,n,e){var r,i,o;return function(){var a=bt(this,t),s=e(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),bt(this,t))),a===l?null:a===r&&l===i?o:(i=l,o=n(r=a,s))}}function Tu(t,n){var e,r,i,o="style."+n,a="end."+o,s;return function(){var l=G(this,t),u=l.on,h=l.value[o]==null?s||(s=Sr(n)):void 0;(u!==e||i!==h)&&(r=(e=u).copy()).on(a,i=h),l.on=r}}function Au(t,n,e){var r=(t+="")=="transform"?Ps:Ar;return n==null?this.styleTween(t,xu(t,r)).on("end.style."+t,Sr(t)):typeof n=="function"?this.styleTween(t,$u(t,r,oe(this,"style."+t,n))).each(Tu(this._id,t)):this.styleTween(t,Mu(t,r,n),e).on("end.style."+t,null)}function Su(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Pu(t,n,e){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&Su(t,a,e)),r}return o._value=n,o}function Eu(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Pu(t,n,e??""))}function Ou(t){return function(){this.textContent=t}}function Iu(t){return function(){var n=t(this);this.textContent=n??""}}function zu(t){return this.tween("text",typeof t=="function"?Iu(oe(this,"text",t)):Ou(t==null?"":t+""))}function Cu(t){return function(n){this.textContent=t.call(this,n)}}function Ru(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&Cu(i)),n}return r._value=t,r}function ku(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Ru(t))}function Fu(){for(var t=this._name,n=this._id,e=Pr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var h=H(l,n);yn(l,t,e,u,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Z(r,this._parents,t,e)}function Du(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};e.each(function(){var u=G(this,r),h=u.on;h!==t&&(n=(t=h).copy(),n._.cancel.push(s),n._.interrupt.push(s),n._.end.push(l)),u.on=n}),i===0&&o()})}var Lu=0;function Z(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Pr(){return++Lu}var W=zt.prototype;Z.prototype={constructor:Z,select:_u,selectAll:vu,selectChild:W.selectChild,selectChildren:W.selectChildren,filter:cu,merge:hu,selection:bu,transition:Fu,call:W.call,nodes:W.nodes,node:W.node,size:W.size,empty:W.empty,each:W.each,on:gu,attr:Zs,attrTween:tu,style:Au,styleTween:Eu,text:zu,textTween:ku,remove:mu,tween:Bs,delay:ru,duration:au,ease:uu,easeVarying:fu,end:Du,[Symbol.iterator]:W[Symbol.iterator]};function qu(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Hu={time:null,delay:0,duration:250,ease:qu};function Nu(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function Bu(t){var n,e;t instanceof Z?(n=t._id,t=t._name):(n=Pr(),(e=Hu).time=pn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&yn(l,t,n,u,a,e||Nu(l,n));return new Z(r,this._parents,t,n)}zt.prototype.interrupt=qs,zt.prototype.transition=Bu;const ae=Math.PI,se=2*ae,dt=1e-6,Xu=se-dt;function Er(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Uu(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Er;const e=10**n;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class Or{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?Er:Uu(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,o,a){this._append`C${+n},${+e},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(n,e,r,i,o){if(n=+n,e=+e,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-n,u=i-e,h=a-n,d=s-e,c=h*h+d*d;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(c>dt)if(!(Math.abs(d*l-u*h)>dt)||!o)this._append`L${this._x1=n},${this._y1=e}`;else{let f=r-a,p=i-s,_=l*l+u*u,g=f*f+p*p,m=Math.sqrt(_),x=Math.sqrt(c),T=o*Math.tan((ae-Math.acos((_+c-g)/(2*m*x)))/2),y=T/x,w=T/m;Math.abs(y-1)>dt&&this._append`L${n+y*h},${e+y*d}`,this._append`A${o},${o},0,0,${+(d*f>h*p)},${this._x1=n+w*l},${this._y1=e+w*u}`}}arc(n,e,r,i,o,a){if(n=+n,e=+e,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=n+s,h=e+l,d=1^a,c=a?i-o:o-i;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>dt||Math.abs(this._y1-h)>dt)&&this._append`L${u},${h}`,r&&(c<0&&(c=c%se+se),c>Xu?this._append`A${r},${r},0,1,${d},${n-s},${e-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=h}`:c>dt&&this._append`A${r},${r},0,${+(c>=ae)},${d},${this._x1=n+r*Math.cos(o)},${this._y1=e+r*Math.sin(o)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function N(){return new Or}N.prototype=Or.prototype;function Gu(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function mn(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Tt(t){return t=mn(Math.abs(t)),t?t[1]:NaN}function Yu(t,n){return function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}}function Ku(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var Vu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _n(t){if(!(n=Vu.exec(t)))throw new Error("invalid format: "+t);var n;return new ue({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}_n.prototype=ue.prototype;function ue(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ue.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Zu(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Ir;function Wu(t,n){var e=mn(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Ir=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+mn(t,Math.max(0,n+o-1))[0]}function zr(t,n){var e=mn(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Cr={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Gu,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>zr(t*100,n),r:zr,s:Wu,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Rr(t){return t}var kr=Array.prototype.map,Fr=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ju(t){var n=t.grouping===void 0||t.thousands===void 0?Rr:Yu(kr.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Rr:Ku(kr.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=_n(d);var c=d.fill,f=d.align,p=d.sign,_=d.symbol,g=d.zero,m=d.width,x=d.comma,T=d.precision,y=d.trim,w=d.type;w==="n"?(x=!0,w="g"):Cr[w]||(T===void 0&&(T=12),y=!0,w="g"),(g||c==="0"&&f==="=")&&(g=!0,c="0",f="=");var A=_==="$"?e:_==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",E=_==="$"?r:/[%p]/.test(w)?a:"",I=Cr[w],K=/[defgprs%]/.test(w);T=T===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function ot(b){var V=A,z=E,X,Ln,lt;if(w==="c")z=I(b)+z,b="";else{b=+b;var vt=b<0||1/b<0;if(b=isNaN(b)?l:I(Math.abs(b),T),y&&(b=Zu(b)),vt&&+b==0&&p!=="+"&&(vt=!1),V=(vt?p==="("?p:s:p==="-"||p==="("?"":p)+V,z=(w==="s"?Fr[8+Ir/3]:"")+z+(vt&&p==="("?")":""),K){for(X=-1,Ln=b.length;++X<Ln;)if(lt=b.charCodeAt(X),48>lt||lt>57){z=(lt===46?i+b.slice(X+1):b.slice(X))+z,b=b.slice(0,X);break}}}x&&!g&&(b=n(b,1/0));var It=V.length+b.length+z.length,D=It<m?new Array(m-It+1).join(c):"";switch(x&&g&&(b=n(D+b,D.length?m-z.length:1/0),D=""),f){case"<":b=V+b+z+D;break;case"=":b=V+D+b+z;break;case"^":b=D.slice(0,It=D.length>>1)+V+b+z+D.slice(It);break;default:b=D+V+b+z;break}return o(b)}return ot.toString=function(){return d+""},ot}function h(d,c){var f=u((d=_n(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(Tt(c)/3)))*3,_=Math.pow(10,-p),g=Fr[8+p/3];return function(m){return f(_*m)+g}}return{format:u,formatPrefix:h}}var vn,wn,Dr;Qu({thousands:",",grouping:[3],currency:["$",""]});function Qu(t){return vn=Ju(t),wn=vn.format,Dr=vn.formatPrefix,vn}function ju(t){return Math.max(0,-Tt(Math.abs(t)))}function tl(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tt(n)/3)))*3-Tt(Math.abs(t)))}function nl(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Tt(n)-Tt(t))+1}function Lr(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}const qr=Symbol("implicit");function Hr(){var t=new Ne,n=[],e=[],r=qr;function i(o){let a=t.get(o);if(a===void 0){if(r!==qr)return r;t.set(o,a=n.push(o)-1)}return e[a%e.length]}return i.domain=function(o){if(!arguments.length)return n.slice();n=[],t=new Ne;for(const a of o)t.has(a)||t.set(a,n.push(a)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Hr(n,e).unknown(r)},Lr.apply(i,arguments),i}function el(t){return function(){return t}}function rl(t){return+t}var Nr=[0,1];function At(t){return t}function le(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:el(isNaN(n)?NaN:.5)}function il(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function ol(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=le(i,r),o=e(a,o)):(r=le(r,i),o=e(o,a)),function(s){return o(r(s))}}function al(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=le(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(s){var l=eo(t,s,1,r)-1;return o[l](i[l](s))}}function sl(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ul(){var t=Nr,n=Nr,e=jn,r,i,o,a=At,s,l,u;function h(){var c=Math.min(t.length,n.length);return a!==At&&(a=il(t[0],t[c-1])),s=c>2?al:ol,l=u=null,d}function d(c){return c==null||isNaN(c=+c)?o:(l||(l=s(t.map(r),n,e)))(r(a(c)))}return d.invert=function(c){return a(i((u||(u=s(n,t.map(r),q)))(c)))},d.domain=function(c){return arguments.length?(t=Array.from(c,rl),h()):t.slice()},d.range=function(c){return arguments.length?(n=Array.from(c),h()):n.slice()},d.rangeRound=function(c){return n=Array.from(c),e=Ts,h()},d.clamp=function(c){return arguments.length?(a=c?!0:At,h()):a!==At},d.interpolate=function(c){return arguments.length?(e=c,h()):e},d.unknown=function(c){return arguments.length?(o=c,d):o},function(c,f){return r=c,i=f,h()}}function ll(){return ul()(At,At)}function fl(t,n,e,r){var i=fo(t,n,e),o;switch(r=_n(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=tl(i,a))&&(r.precision=o),Dr(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=nl(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=ju(i))&&(r.precision=o-(r.type==="%")*2);break}}return wn(r)}function cl(t){var n=t.domain;return t.ticks=function(e){var r=n();return lo(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return fl(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,h=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);h-- >0;){if(u=qn(a,s,e),u===l)return r[i]=a,r[o]=s,n(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function at(){var t=ll();return t.copy=function(){return sl(t,at())},Lr.apply(t,arguments),cl(t)}function Bt(t,n,e){this.k=t,this.x=n,this.y=e}Bt.prototype={constructor:Bt,scale:function(t){return t===1?this:new Bt(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Bt(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},Bt.prototype;var Br=typeof global=="object"&&global&&global.Object===Object&&global,hl=typeof self=="object"&&self&&self.Object===Object&&self,J=Br||hl||Function("return this")(),Y=J.Symbol,Xr=Object.prototype,pl=Xr.hasOwnProperty,dl=Xr.toString,Xt=Y?Y.toStringTag:void 0;function gl(t){var n=pl.call(t,Xt),e=t[Xt];try{t[Xt]=void 0;var r=!0}catch{}var i=dl.call(t);return r&&(n?t[Xt]=e:delete t[Xt]),i}var yl=Object.prototype,ml=yl.toString;function _l(t){return ml.call(t)}var vl="[object Null]",wl="[object Undefined]",Ur=Y?Y.toStringTag:void 0;function St(t){return t==null?t===void 0?wl:vl:Ur&&Ur in Object(t)?gl(t):_l(t)}function gt(t){return t!=null&&typeof t=="object"}var bl="[object Symbol]";function bn(t){return typeof t=="symbol"||gt(t)&&St(t)==bl}function Pt(t,n){for(var e=-1,r=t==null?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}var R=Array.isArray,Gr=Y?Y.prototype:void 0,Yr=Gr?Gr.toString:void 0;function Kr(t){if(typeof t=="string")return t;if(R(t))return Pt(t,Kr)+"";if(bn(t))return Yr?Yr.call(t):"";var n=t+"";return n=="0"&&1/t==-1/0?"-0":n}var xl=/\s/;function Ml(t){for(var n=t.length;n--&&xl.test(t.charAt(n)););return n}var $l=/^\s+/;function Tl(t){return t&&t.slice(0,Ml(t)+1).replace($l,"")}function Q(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}var Vr=NaN,Al=/^[-+]0x[0-9a-f]+$/i,Sl=/^0b[01]+$/i,Pl=/^0o[0-7]+$/i,El=parseInt;function Ol(t){if(typeof t=="number")return t;if(bn(t))return Vr;if(Q(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=Q(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=Tl(t);var e=Sl.test(t);return e||Pl.test(t)?El(t.slice(2),e?2:8):Al.test(t)?Vr:+t}var Il=1/0,zl=17976931348623157e292;function fe(t){if(!t)return t===0?t:0;if(t=Ol(t),t===Il||t===-1/0){var n=t<0?-1:1;return n*zl}return t===t?t:0}function xn(t){return t}var Cl="[object AsyncFunction]",Rl="[object Function]",kl="[object GeneratorFunction]",Fl="[object Proxy]";function Zr(t){if(!Q(t))return!1;var n=St(t);return n==Rl||n==kl||n==Cl||n==Fl}var ce=J["__core-js_shared__"],Wr=function(){var t=/[^.]+$/.exec(ce&&ce.keys&&ce.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Dl(t){return!!Wr&&Wr in t}var Ll=Function.prototype,ql=Ll.toString;function yt(t){if(t!=null){try{return ql.call(t)}catch{}try{return t+""}catch{}}return""}var Hl=/[\\^$.*+?()[\]{}|]/g,Nl=/^\[object .+?Constructor\]$/,Bl=Function.prototype,Xl=Object.prototype,Ul=Bl.toString,Gl=Xl.hasOwnProperty,Yl=RegExp("^"+Ul.call(Gl).replace(Hl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Kl(t){if(!Q(t)||Dl(t))return!1;var n=Zr(t)?Yl:Nl;return n.test(yt(t))}function Vl(t,n){return t==null?void 0:t[n]}function mt(t,n){var e=Vl(t,n);return Kl(e)?e:void 0}var he=mt(J,"WeakMap");function Zl(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function Wl(t,n){var e=-1,r=t.length;for(n||(n=Array(r));++e<r;)n[e]=t[e];return n}var Jl=800,Ql=16,jl=Date.now;function tf(t){var n=0,e=0;return function(){var r=jl(),i=Ql-(r-e);if(e=r,i>0){if(++n>=Jl)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}function nf(t){return function(){return t}}var Mn=function(){try{var t=mt(Object,"defineProperty");return t({},"",{}),t}catch{}}(),ef=Mn?function(t,n){return Mn(t,"toString",{configurable:!0,enumerable:!1,value:nf(n),writable:!0})}:xn,rf=tf(ef);function of(t,n){for(var e=-1,r=t==null?0:t.length;++e<r&&n(t[e],e,t)!==!1;);return t}var af=9007199254740991,sf=/^(?:0|[1-9]\d*)$/;function $n(t,n){var e=typeof t;return n=n??af,!!n&&(e=="number"||e!="symbol"&&sf.test(t))&&t>-1&&t%1==0&&t<n}function uf(t,n,e){n=="__proto__"&&Mn?Mn(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function Tn(t,n){return t===n||t!==t&&n!==n}var lf=Object.prototype,ff=lf.hasOwnProperty;function cf(t,n,e){var r=t[n];(!(ff.call(t,n)&&Tn(r,e))||e===void 0&&!(n in t))&&uf(t,n,e)}var Jr=Math.max;function hf(t,n,e){return n=Jr(n===void 0?t.length-1:n,0),function(){for(var r=arguments,i=-1,o=Jr(r.length-n,0),a=Array(o);++i<o;)a[i]=r[n+i];i=-1;for(var s=Array(n+1);++i<n;)s[i]=r[i];return s[n]=e(a),Zl(t,this,s)}}function pf(t,n){return rf(hf(t,n,xn),t+"")}var df=9007199254740991;function pe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=df}function Et(t){return t!=null&&pe(t.length)&&!Zr(t)}function gf(t,n,e){if(!Q(e))return!1;var r=typeof n;return(r=="number"?Et(e)&&$n(n,e.length):r=="string"&&n in e)?Tn(e[n],t):!1}var yf=Object.prototype;function Qr(t){var n=t&&t.constructor,e=typeof n=="function"&&n.prototype||yf;return t===e}function jr(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}var mf="[object Arguments]";function ti(t){return gt(t)&&St(t)==mf}var ni=Object.prototype,_f=ni.hasOwnProperty,vf=ni.propertyIsEnumerable,de=ti(function(){return arguments}())?ti:function(t){return gt(t)&&_f.call(t,"callee")&&!vf.call(t,"callee")};function wf(){return!1}var ei=typeof O=="object"&&O&&!O.nodeType&&O,ri=ei&&typeof module=="object"&&module&&!module.nodeType&&module,bf=ri&&ri.exports===ei,ii=bf?J.Buffer:void 0,xf=ii?ii.isBuffer:void 0,ge=xf||wf,Mf="[object Arguments]",$f="[object Array]",Tf="[object Boolean]",Af="[object Date]",Sf="[object Error]",Pf="[object Function]",Ef="[object Map]",Of="[object Number]",If="[object Object]",zf="[object RegExp]",Cf="[object Set]",Rf="[object String]",kf="[object WeakMap]",Ff="[object ArrayBuffer]",Df="[object DataView]",Lf="[object Float32Array]",qf="[object Float64Array]",Hf="[object Int8Array]",Nf="[object Int16Array]",Bf="[object Int32Array]",Xf="[object Uint8Array]",Uf="[object Uint8ClampedArray]",Gf="[object Uint16Array]",Yf="[object Uint32Array]",$={};$[Lf]=$[qf]=$[Hf]=$[Nf]=$[Bf]=$[Xf]=$[Uf]=$[Gf]=$[Yf]=!0,$[Mf]=$[$f]=$[Ff]=$[Tf]=$[Df]=$[Af]=$[Sf]=$[Pf]=$[Ef]=$[Of]=$[If]=$[zf]=$[Cf]=$[Rf]=$[kf]=!1;function Kf(t){return gt(t)&&pe(t.length)&&!!$[St(t)]}function Vf(t){return function(n){return t(n)}}var oi=typeof O=="object"&&O&&!O.nodeType&&O,Ut=oi&&typeof module=="object"&&module&&!module.nodeType&&module,Zf=Ut&&Ut.exports===oi,ye=Zf&&Br.process,ai=function(){try{var t=Ut&&Ut.require&&Ut.require("util").types;return t||ye&&ye.binding&&ye.binding("util")}catch{}}(),si=ai&&ai.isTypedArray,ui=si?Vf(si):Kf,Wf=Object.prototype,Jf=Wf.hasOwnProperty;function li(t,n){var e=R(t),r=!e&&de(t),i=!e&&!r&&ge(t),o=!e&&!r&&!i&&ui(t),a=e||r||i||o,s=a?jr(t.length,String):[],l=s.length;for(var u in t)(n||Jf.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||$n(u,l)))&&s.push(u);return s}function fi(t,n){return function(e){return t(n(e))}}var Qf=fi(Object.keys,Object),jf=Object.prototype,tc=jf.hasOwnProperty;function nc(t){if(!Qr(t))return Qf(t);var n=[];for(var e in Object(t))tc.call(t,e)&&e!="constructor"&&n.push(e);return n}function Gt(t){return Et(t)?li(t):nc(t)}function ec(t){var n=[];if(t!=null)for(var e in Object(t))n.push(e);return n}var rc=Object.prototype,ic=rc.hasOwnProperty;function oc(t){if(!Q(t))return ec(t);var n=Qr(t),e=[];for(var r in t)r=="constructor"&&(n||!ic.call(t,r))||e.push(r);return e}function ac(t){return Et(t)?li(t,!0):oc(t)}var sc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,uc=/^\w*$/;function me(t,n){if(R(t))return!1;var e=typeof t;return e=="number"||e=="symbol"||e=="boolean"||t==null||bn(t)?!0:uc.test(t)||!sc.test(t)||n!=null&&t in Object(n)}var Yt=mt(Object,"create");function lc(){this.__data__=Yt?Yt(null):{},this.size=0}function fc(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}var cc="__lodash_hash_undefined__",hc=Object.prototype,pc=hc.hasOwnProperty;function dc(t){var n=this.__data__;if(Yt){var e=n[t];return e===cc?void 0:e}return pc.call(n,t)?n[t]:void 0}var gc=Object.prototype,yc=gc.hasOwnProperty;function mc(t){var n=this.__data__;return Yt?n[t]!==void 0:yc.call(n,t)}var _c="__lodash_hash_undefined__";function vc(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=Yt&&n===void 0?_c:n,this}function _t(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}_t.prototype.clear=lc,_t.prototype.delete=fc,_t.prototype.get=dc,_t.prototype.has=mc,_t.prototype.set=vc;function wc(){this.__data__=[],this.size=0}function An(t,n){for(var e=t.length;e--;)if(Tn(t[e][0],n))return e;return-1}var bc=Array.prototype,xc=bc.splice;function Mc(t){var n=this.__data__,e=An(n,t);if(e<0)return!1;var r=n.length-1;return e==r?n.pop():xc.call(n,e,1),--this.size,!0}function $c(t){var n=this.__data__,e=An(n,t);return e<0?void 0:n[e][1]}function Tc(t){return An(this.__data__,t)>-1}function Ac(t,n){var e=this.__data__,r=An(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this}function j(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}j.prototype.clear=wc,j.prototype.delete=Mc,j.prototype.get=$c,j.prototype.has=Tc,j.prototype.set=Ac;var Kt=mt(J,"Map");function Sc(){this.size=0,this.__data__={hash:new _t,map:new(Kt||j),string:new _t}}function Pc(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}function Sn(t,n){var e=t.__data__;return Pc(n)?e[typeof n=="string"?"string":"hash"]:e.map}function Ec(t){var n=Sn(this,t).delete(t);return this.size-=n?1:0,n}function Oc(t){return Sn(this,t).get(t)}function Ic(t){return Sn(this,t).has(t)}function zc(t,n){var e=Sn(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this}function tt(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}tt.prototype.clear=Sc,tt.prototype.delete=Ec,tt.prototype.get=Oc,tt.prototype.has=Ic,tt.prototype.set=zc;var Cc="Expected a function";function _e(t,n){if(typeof t!="function"||n!=null&&typeof n!="function")throw new TypeError(Cc);var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return e.cache=o.set(i,a)||o,a};return e.cache=new(_e.Cache||tt),e}_e.Cache=tt;var Rc=500;function kc(t){var n=_e(t,function(r){return e.size===Rc&&e.clear(),r}),e=n.cache;return n}var Fc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dc=/\\(\\)?/g,Lc=kc(function(t){var n=[];return t.charCodeAt(0)===46&&n.push(""),t.replace(Fc,function(e,r,i,o){n.push(i?o.replace(Dc,"$1"):r||e)}),n});function Pn(t){return t==null?"":Kr(t)}function En(t,n){return R(t)?t:me(t,n)?[t]:Lc(Pn(t))}function Vt(t){if(typeof t=="string"||bn(t))return t;var n=t+"";return n=="0"&&1/t==-1/0?"-0":n}function ve(t,n){n=En(n,t);for(var e=0,r=n.length;t!=null&&e<r;)t=t[Vt(n[e++])];return e&&e==r?t:void 0}function qc(t,n,e){var r=t==null?void 0:ve(t,n);return r===void 0?e:r}function we(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}var ci=Y?Y.isConcatSpreadable:void 0;function Hc(t){return R(t)||de(t)||!!(ci&&t&&t[ci])}function Nc(t,n,e,r,i){var o=-1,a=t.length;for(e||(e=Hc),i||(i=[]);++o<a;){var s=t[o];e(s)?we(i,s):i[i.length]=s}return i}function Bc(t){var n=t==null?0:t.length;return n?Nc(t):[]}var Xc=fi(Object.getPrototypeOf,Object);function Uc(t,n,e){var r=-1,i=t.length;n<0&&(n=-n>i?0:i+n),e=e>i?i:e,e<0&&(e+=i),i=n>e?0:e-n>>>0,n>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+n];return o}function Gc(t,n,e){var r=t.length;return e=e===void 0?r:e,Uc(t,n,e)}var Yc="\\ud800-\\udfff",Kc="\\u0300-\\u036f",Vc="\\ufe20-\\ufe2f",Zc="\\u20d0-\\u20ff",Wc=Kc+Vc+Zc,Jc="\\ufe0e\\ufe0f",Qc="\\u200d",jc=RegExp("["+Qc+Yc+Wc+Jc+"]");function hi(t){return jc.test(t)}function th(t){return t.split("")}var pi="\\ud800-\\udfff",nh="\\u0300-\\u036f",eh="\\ufe20-\\ufe2f",rh="\\u20d0-\\u20ff",ih=nh+eh+rh,oh="\\ufe0e\\ufe0f",ah="["+pi+"]",be="["+ih+"]",xe="\\ud83c[\\udffb-\\udfff]",sh="(?:"+be+"|"+xe+")",di="[^"+pi+"]",gi="(?:\\ud83c[\\udde6-\\uddff]){2}",yi="[\\ud800-\\udbff][\\udc00-\\udfff]",uh="\\u200d",mi=sh+"?",_i="["+oh+"]?",lh="(?:"+uh+"(?:"+[di,gi,yi].join("|")+")"+_i+mi+")*",fh=_i+mi+lh,ch="(?:"+[di+be+"?",be,gi,yi,ah].join("|")+")",hh=RegExp(xe+"(?="+xe+")|"+ch+fh,"g");function ph(t){return t.match(hh)||[]}function dh(t){return hi(t)?ph(t):th(t)}function gh(t){return function(n){n=Pn(n);var e=hi(n)?dh(n):void 0,r=e?e[0]:n.charAt(0),i=e?Gc(e,1).join(""):n.slice(1);return r[t]()+i}}var yh=gh("toUpperCase");function mh(t){return yh(Pn(t).toLowerCase())}function _h(){this.__data__=new j,this.size=0}function vh(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e}function wh(t){return this.__data__.get(t)}function bh(t){return this.__data__.has(t)}var xh=200;function Mh(t,n){var e=this.__data__;if(e instanceof j){var r=e.__data__;if(!Kt||r.length<xh-1)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new tt(r)}return e.set(t,n),this.size=e.size,this}function nt(t){var n=this.__data__=new j(t);this.size=n.size}nt.prototype.clear=_h,nt.prototype.delete=vh,nt.prototype.get=wh,nt.prototype.has=bh,nt.prototype.set=Mh;function Me(t,n){for(var e=-1,r=t==null?0:t.length,i=0,o=[];++e<r;){var a=t[e];n(a,e,t)&&(o[i++]=a)}return o}function vi(){return[]}var $h=Object.prototype,Th=$h.propertyIsEnumerable,wi=Object.getOwnPropertySymbols,bi=wi?function(t){return t==null?[]:(t=Object(t),Me(wi(t),function(n){return Th.call(t,n)}))}:vi,Ah=Object.getOwnPropertySymbols,Sh=Ah?function(t){for(var n=[];t;)we(n,bi(t)),t=Xc(t);return n}:vi;function xi(t,n,e){var r=n(t);return R(t)?r:we(r,e(t))}function Mi(t){return xi(t,Gt,bi)}function Ph(t){return xi(t,ac,Sh)}var $e=mt(J,"DataView"),Te=mt(J,"Promise"),Ae=mt(J,"Set"),$i="[object Map]",Eh="[object Object]",Ti="[object Promise]",Ai="[object Set]",Si="[object WeakMap]",Pi="[object DataView]",Oh=yt($e),Ih=yt(Kt),zh=yt(Te),Ch=yt(Ae),Rh=yt(he),et=St;($e&&et(new $e(new ArrayBuffer(1)))!=Pi||Kt&&et(new Kt)!=$i||Te&&et(Te.resolve())!=Ti||Ae&&et(new Ae)!=Ai||he&&et(new he)!=Si)&&(et=function(t){var n=St(t),e=n==Eh?t.constructor:void 0,r=e?yt(e):"";if(r)switch(r){case Oh:return Pi;case Ih:return $i;case zh:return Ti;case Ch:return Ai;case Rh:return Si}return n});var Ei=J.Uint8Array,kh="__lodash_hash_undefined__";function Fh(t){return this.__data__.set(t,kh),this}function Dh(t){return this.__data__.has(t)}function On(t){var n=-1,e=t==null?0:t.length;for(this.__data__=new tt;++n<e;)this.add(t[n])}On.prototype.add=On.prototype.push=Fh,On.prototype.has=Dh;function Lh(t,n){for(var e=-1,r=t==null?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}function qh(t,n){return t.has(n)}var Hh=1,Nh=2;function Oi(t,n,e,r,i,o){var a=e&Hh,s=t.length,l=n.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),h=o.get(n);if(u&&h)return u==n&&h==t;var d=-1,c=!0,f=e&Nh?new On:void 0;for(o.set(t,n),o.set(n,t);++d<s;){var p=t[d],_=n[d];if(r)var g=a?r(_,p,d,n,t,o):r(p,_,d,t,n,o);if(g!==void 0){if(g)continue;c=!1;break}if(f){if(!Lh(n,function(m,x){if(!qh(f,x)&&(p===m||i(p,m,e,r,o)))return f.push(x)})){c=!1;break}}else if(!(p===_||i(p,_,e,r,o))){c=!1;break}}return o.delete(t),o.delete(n),c}function Ii(t){var n=-1,e=Array(t.size);return t.forEach(function(r,i){e[++n]=[i,r]}),e}function Bh(t){var n=-1,e=Array(t.size);return t.forEach(function(r){e[++n]=r}),e}var Xh=1,Uh=2,Gh="[object Boolean]",Yh="[object Date]",Kh="[object Error]",Vh="[object Map]",Zh="[object Number]",Wh="[object RegExp]",Jh="[object Set]",Qh="[object String]",jh="[object Symbol]",tp="[object ArrayBuffer]",np="[object DataView]",zi=Y?Y.prototype:void 0,Se=zi?zi.valueOf:void 0;function ep(t,n,e,r,i,o,a){switch(e){case np:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case tp:return!(t.byteLength!=n.byteLength||!o(new Ei(t),new Ei(n)));case Gh:case Yh:case Zh:return Tn(+t,+n);case Kh:return t.name==n.name&&t.message==n.message;case Wh:case Qh:return t==n+"";case Vh:var s=Ii;case Jh:var l=r&Xh;if(s||(s=Bh),t.size!=n.size&&!l)return!1;var u=a.get(t);if(u)return u==n;r|=Uh,a.set(t,n);var h=Oi(s(t),s(n),r,i,o,a);return a.delete(t),h;case jh:if(Se)return Se.call(t)==Se.call(n)}return!1}var rp=1,ip=Object.prototype,op=ip.hasOwnProperty;function ap(t,n,e,r,i,o){var a=e&rp,s=Mi(t),l=s.length,u=Mi(n),h=u.length;if(l!=h&&!a)return!1;for(var d=l;d--;){var c=s[d];if(!(a?c in n:op.call(n,c)))return!1}var f=o.get(t),p=o.get(n);if(f&&p)return f==n&&p==t;var _=!0;o.set(t,n),o.set(n,t);for(var g=a;++d<l;){c=s[d];var m=t[c],x=n[c];if(r)var T=a?r(x,m,c,n,t,o):r(m,x,c,t,n,o);if(!(T===void 0?m===x||i(m,x,e,r,o):T)){_=!1;break}g||(g=c=="constructor")}if(_&&!g){var y=t.constructor,w=n.constructor;y!=w&&"constructor"in t&&"constructor"in n&&!(typeof y=="function"&&y instanceof y&&typeof w=="function"&&w instanceof w)&&(_=!1)}return o.delete(t),o.delete(n),_}var sp=1,Ci="[object Arguments]",Ri="[object Array]",In="[object Object]",up=Object.prototype,ki=up.hasOwnProperty;function lp(t,n,e,r,i,o){var a=R(t),s=R(n),l=a?Ri:et(t),u=s?Ri:et(n);l=l==Ci?In:l,u=u==Ci?In:u;var h=l==In,d=u==In,c=l==u;if(c&&ge(t)){if(!ge(n))return!1;a=!0,h=!1}if(c&&!h)return o||(o=new nt),a||ui(t)?Oi(t,n,e,r,i,o):ep(t,n,l,e,r,i,o);if(!(e&sp)){var f=h&&ki.call(t,"__wrapped__"),p=d&&ki.call(n,"__wrapped__");if(f||p){var _=f?t.value():t,g=p?n.value():n;return o||(o=new nt),i(_,g,e,r,o)}}return c?(o||(o=new nt),ap(t,n,e,r,i,o)):!1}function Pe(t,n,e,r,i){return t===n?!0:t==null||n==null||!gt(t)&&!gt(n)?t!==t&&n!==n:lp(t,n,e,r,Pe,i)}var fp=1,cp=2;function hp(t,n,e,r){var i=e.length,o=i;if(t==null)return!o;for(t=Object(t);i--;){var a=e[i];if(a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=e[i];var s=a[0],l=t[s],u=a[1];if(a[2]){if(l===void 0&&!(s in t))return!1}else{var h=new nt,d;if(!(d===void 0?Pe(u,l,fp|cp,r,h):d))return!1}}return!0}function Fi(t){return t===t&&!Q(t)}function pp(t){for(var n=Gt(t),e=n.length;e--;){var r=n[e],i=t[r];n[e]=[r,i,Fi(i)]}return n}function Di(t,n){return function(e){return e==null?!1:e[t]===n&&(n!==void 0||t in Object(e))}}function dp(t){var n=pp(t);return n.length==1&&n[0][2]?Di(n[0][0],n[0][1]):function(e){return e===t||hp(e,t,n)}}function gp(t,n){return t!=null&&n in Object(t)}function Li(t,n,e){n=En(n,t);for(var r=-1,i=n.length,o=!1;++r<i;){var a=Vt(n[r]);if(!(o=t!=null&&e(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&pe(i)&&$n(a,i)&&(R(t)||de(t)))}function yp(t,n){return t!=null&&Li(t,n,gp)}var mp=1,_p=2;function vp(t,n){return me(t)&&Fi(n)?Di(Vt(t),n):function(e){var r=qc(e,t);return r===void 0&&r===n?yp(e,t):Pe(n,r,mp|_p)}}function qi(t){return function(n){return n==null?void 0:n[t]}}function wp(t){return function(n){return ve(n,t)}}function bp(t){return me(t)?qi(Vt(t)):wp(t)}function Ee(t){return typeof t=="function"?t:t==null?xn:typeof t=="object"?R(t)?vp(t[0],t[1]):dp(t):bp(t)}function xp(t){return function(n,e,r){for(var i=-1,o=Object(n),a=r(n),s=a.length;s--;){var l=a[++i];if(e(o[l],l,o)===!1)break}return n}}var Mp=xp();function $p(t,n){return t&&Mp(t,n,Gt)}function Tp(t,n){return function(e,r){if(e==null)return e;if(!Et(e))return t(e,r);for(var i=e.length,o=-1,a=Object(e);++o<i&&r(a[o],o,a)!==!1;);return e}}var Oe=Tp($p);function Ap(t){return gt(t)&&Et(t)}function Sp(t){return typeof t=="function"?t:xn}function st(t,n){var e=R(t)?of:Oe;return e(t,Sp(n))}function Pp(t,n){return Pt(n,function(e){return[e,t[e]]})}function Ep(t){var n=-1,e=Array(t.size);return t.forEach(function(r){e[++n]=[r,r]}),e}var Op="[object Map]",Ip="[object Set]";function zp(t){return function(n){var e=et(n);return e==Op?Ii(n):e==Ip?Ep(n):Pp(n,t(n))}}var Hi=zp(Gt);function Cp(t,n){var e=[];return Oe(t,function(r,i,o){n(r,i,o)&&e.push(r)}),e}function Rp(t,n){var e=R(t)?Me:Cp;return e(t,Ee(n))}function kp(t,n){var e=-1,r=Et(t)?Array(t.length):[];return Oe(t,function(i,o,a){r[++e]=n(i,o,a)}),r}function Zt(t,n){var e=R(t)?Pt:kp;return e(t,Ee(n))}var Fp=Object.prototype,Dp=Fp.hasOwnProperty;function Lp(t,n){return t!=null&&Dp.call(t,n)}function Ni(t,n){return t!=null&&Li(t,n,Lp)}function qp(t,n){return Pt(n,function(e){return t[e]})}function Hp(t){return t==null?[]:qp(t,Gt(t))}function Np(t,n,e,r){if(!Q(t))return t;n=En(n,t);for(var i=-1,o=n.length,a=o-1,s=t;s!=null&&++i<o;){var l=Vt(n[i]),u=e;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=a){var h=s[l];u=void 0,u===void 0&&(u=Q(h)?h:$n(n[i+1])?[]:{})}cf(s,l,u),s=s[l]}return t}function Bp(t,n,e){for(var r=-1,i=n.length,o={};++r<i;){var a=n[r],s=ve(t,a);e(s,a)&&Np(o,En(a,t),s)}return o}function Xp(t,n){if(t==null)return{};var e=Pt(Ph(t),function(r){return[r]});return n=Ee(n),Bp(t,e,function(r,i){return n(r,i[0])})}var Up=Math.floor,Gp=Math.random;function Yp(t,n){return t+Up(Gp()*(n-t+1))}var Kp=Math.ceil,Vp=Math.max;function Zp(t,n,e,r){for(var i=-1,o=Vp(Kp((n-t)/(e||1)),0),a=Array(o);o--;)a[++i]=t,t+=e;return a}function Wp(t){return function(n,e,r){return r&&typeof r!="number"&&gf(n,e,r)&&(e=r=void 0),n=fe(n),e===void 0?(e=n,n=0):e=fe(e),r=r===void 0?n<e?1:-1:fe(r),Zp(n,e,r)}}var Ot=Wp();function Jp(){var t=arguments,n=Pn(t[0]);return t.length<3?n:n.replace(t[1],t[2])}function Bi(t,n){var e=-1,r=t.length,i=r-1;for(n=n===void 0?r:n;++e<n;){var o=Yp(e,i),a=t[o];t[o]=t[e],t[e]=a}return t.length=n,t}function Qp(t){return Bi(Wl(t))}function jp(t){return Bi(Hp(t))}function t0(t){var n=R(t)?Qp:jp;return n(t)}var n0=Math.max;function e0(t){if(!(t&&t.length))return[];var n=0;return t=Me(t,function(e){if(Ap(e))return n=n0(e.length,n),!0}),jr(n,function(e){return Pt(t,qi(e))})}var zn=pf(e0);const r0=(t,n,e=12,r=12)=>{const i=at().domain([0,e]).range([0,t]),o=at().domain([0,r]).range([0,n]);return{points:function(){return Ot((e+1)*(r+1)).map(function(l){return{m:l%(e+1),n:Math.floor(l/(e+1)),x:i(l%(e+1)),y:o(Math.floor(l/(e+1)))}})},position:function(l,u){typeof l=="number"&&(l=[l]),typeof u=="number"&&(u=[u]);const h=Bc(Zt(u,function(d){return Zt(l,function(c){return{x:i(c),y:o(d)}})}));return h.length==1?h[0]:h}}},v={widget:"_widget_18g36_1",label:"_label_18g36_19",lit:"_lit_18g36_24",button:"_button_18g36_29",symbol:"_symbol_18g36_29",radio:"_radio_18g36_29",radiobutton:"_radiobutton_18g36_29",selected:"_selected_18g36_35",toggle:"_toggle_18g36_35",slider:"_slider_18g36_44",track:"_track_18g36_44",track_overlay:"_track_overlay_18g36_48",handle:"_handle_18g36_55"},Xi=()=>{const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz01234567890",e=n.length;let r="";for(let i=0;i<10;++i)r+=n[Math.floor(Math.random()*e)];return r},Ie=(t,n,e)=>{var r,i,o,a;switch(e){case"top":r=0,i=-n/2-5,o="middle",a="bottom";break;case"bottom":r=0,i=n/2+5,o="middle",a="hanging";break;case"left":r=-t/2-5,i=0,o="end",a="middle";break;case"right":r=t/2+5,i=0,o="start",a="middle";break;default:r=0,i=n/2+5,o="middle",a="hanging"}return{x:r,y:i,anchor:o,valign:a}},i0=(t=1)=>{const n=N();return n.moveTo(t*1,t*0),n.lineTo(t*-.5,t*(Math.sqrt(3)/2)),n.lineTo(t*-.5,t*(-Math.sqrt(3)/2)),n.closePath(),n.toString()},o0=(t=1)=>{const n=N(),e=.7;return n.moveTo(e*t*(1+.75),e*t*0),n.lineTo(e*t*(-.5+.75),e*t*(Math.sqrt(3)/2)),n.lineTo(e*t*(-.5+.75),e*t*(-Math.sqrt(3)/2)),n.closePath(),n.moveTo(e*t*(1-.75),e*t*0),n.lineTo(e*t*(-.5-.75),e*t*(Math.sqrt(3)/2)),n.lineTo(e*t*(-.5-.75),e*t*(-Math.sqrt(3)/2)),n.closePath(),n.toString()},a0=(t=1)=>{const n=N();return n.moveTo(-t*1,t*0),n.lineTo(t*.5,t*(Math.sqrt(3)/2)),n.lineTo(t*.5,t*(-Math.sqrt(3)/2)),n.closePath(),n.toString()},s0=(t=1)=>{const n=.3333333333333333,e=.9;var r=N();return r.moveTo(t*e,t*e),r.lineTo(t*e,t*-.9),r.lineTo(t*(e*n),t*-.9),r.lineTo(t*(e*n),t*e),r.closePath(),r.moveTo(-t*e,t*e),r.lineTo(-t*e,t*-.9),r.lineTo(-t*(e*n),t*-.9),r.lineTo(-t*(e*n),t*e),r.closePath(),r.toString()},u0=(t=1)=>{const n=N(),e=Math.PI/2.5,r=e/2,i=2*Math.PI-e/2,o=.5,a=.6,s=.6,l=[t*(1-o/2)*Math.cos(i),t*(1-o/2)*Math.sin(i)],u=[t*s*Math.cos(i+Math.PI/2),t*s*Math.sin(i+Math.PI/2)];return n.moveTo(t*Math.cos(i),t*Math.sin(i)),n.arc(0,0,t,i,r,!0),n.lineTo(t*(1-o)*Math.cos(r),t*(1-o)*Math.sin(r)),n.arc(0,0,t*(1-o),r,i,!1),n.lineTo(t*(1-a-o/2)*Math.cos(i),t*(1-a-o/2)*Math.sin(i)),n.lineTo(l[0]+u[0],l[1]+u[1]),n.lineTo(t*(1+a-o/2)*Math.cos(i),t*(1+a-o/2)*Math.sin(i)),n.closePath(),n.toString()},l0=(t=1)=>{const n=N(),e=Math.PI/10,r=t/2,i=Math.PI-e,o=e,a=-e,s=Math.PI+e;return n.arc(0,0,r,s,a),n.lineTo(t,r*Math.sin(s)),n.lineTo(t,-t),n.lineTo(-t,-t),n.lineTo(-t,r*Math.sin(s)),n.closePath(),n.arc(0,0,r,o,i),n.lineTo(-t,r*Math.sin(i)),n.lineTo(-t,t),n.lineTo(t,t),n.lineTo(t,r*Math.sin(i)),n.closePath(),n.toString()},f0=(t=1)=>{const n=N(),e=Math.PI/2.5,r=e/2+Math.PI,i=2*Math.PI-e/2+Math.PI,o=.5,a=.6,s=-.6;n.moveTo(t*Math.cos(r),t*Math.sin(r)),n.arc(0,0,t,r,i,!1),n.lineTo(t*(1-o)*Math.cos(i),t*(1-o)*Math.sin(i)),n.arc(0,0,t*(1-o),i,r,!0),n.lineTo(t*(1-a-o/2)*Math.cos(r),t*(1-a-o/2)*Math.sin(r));var l=[t*(1-o/2)*Math.cos(r),t*(1-o/2)*Math.sin(r)],u=[t*s*Math.cos(r+Math.PI/2),t*s*Math.sin(r+Math.PI/2)];return n.lineTo(l[0]+u[0],l[1]+u[1]),n.lineTo(t*(1+a-o/2)*Math.cos(r),t*(1+a-o/2)*Math.sin(r)),n.closePath(),n.toString()},c0=(t=1)=>{var n=N(),e=.9;return n.moveTo(t*e,t*e),n.lineTo(t*-.9,t*e),n.lineTo(t*-.9,t*-.9),n.lineTo(t*e,t*-.9),n.closePath(),n.toString()},h0=(t=1)=>{const n=N(),e=0,r=2*Math.PI;return n.moveTo(t*Math.cos(e),t*Math.sin(e)),n.arc(0,0,t,e,r,!0),n.closePath(),n.toString()},ze=t=>{switch(t){case"play":return i0;case"forward":return o0;case"back":return a0;case"pause":return s0;case"reload":return u0;case"capture":return l0;case"rewind":return f0;case"stop":return c0;case"push":return h0}},Ce=()=>{const t="button";var n=Xi(),e=50,r=.3,i="round",o={x:0,y:0},a=null,s="bottom",l=null,u=function(p){},h=["play"],d=0;return{type:t,id:function(p){return typeof p>"u"?n:(n=p,this)},size:function(p){return typeof p>"u"?e:(e=p,this)},symbolsize:function(p){return typeof p>"u"?r:(r=p,this)},shape:function(p){return typeof p>"u"?i:(i=p,this)},position:function(p){return typeof p>"u"?o:(o=p,this)},x:function(p){return typeof p>"u"?o.x:(o.x=p,this)},y:function(p){return typeof p>"u"?o.y:(o.y=p,this)},label:function(p){return typeof p>"u"?a:(a=p,this)},labelposition:function(p){return typeof p>"u"?s:(s=p,this)},fontsize:function(p){return typeof p>"u"?l:(l=p,this)},update:function(p){if(typeof p=="function")return u=p,this;u(p)},actions:function(p){return typeof p>"u"?h:(h=p,this)},value:function(p){return typeof p>"u"?d:(d=p,this)},click:function(){d=(d+1)%h.length,u(),S(this.parentNode).select("."+v.symbol).attr("d",ze(h[d])(r*e))},press:function(p){d=(d+1)%h.length,u(),p.select("#button_"+n).select("."+v.symbol).attr("d",ze(h[d])(r*e))}}},p0=()=>{const t="slider",n=wn(".3f");var e=Xi(),r=100,i=8,o=10,a=!1,s={x:0,y:0},l="top-left",u=null,h=function(m){},d=function(m){},c=[0,1],f=0,p=null,_=at().domain(c).range([0,r]).clamp(!0);const g=function(m,x,T=c){const y=m.select("#slider_"+e);_.domain(T),f=x,y.selectAll("."+v.handle).transition().attr("cx",_(x)),a&&y.select("."+v.label).text(p+" = "+n(f)),h(),d()};return{type:t,scale:_,id:function(m){return typeof m>"u"?e:(e=m,this)},label:function(m){return typeof m>"u"?p:(p=m,this)},size:function(m){return typeof m>"u"?r:(r=m,this)},girth:function(m){return typeof m>"u"?i:(i=m,this)},knob:function(m){return typeof m>"u"?o:(o=m,this)},show:function(m){return typeof m>"u"?a:(a=m,this)},position:function(m){return typeof m>"u"?s:(s=m,this)},x:function(m){return typeof m>"u"?s.x:(s.x=m,this)},y:function(m){return typeof m>"u"?s.y:(s.y=m,this)},labelposition:function(m){return typeof m>"u"?l:(l=m,this)},fontsize:function(m){return typeof m>"u"?u:(u=m,this)},update:function(m){if(typeof m=="function")return h=m,this;h(m)},update_end:function(m){if(typeof m=="function")return d=m,this;d(m)},range:function(m){return typeof m>"u"?c:(c=m,this)},value:function(m){return typeof m>"u"?f:(f=m,this)},reset:g,click:g}},d0=(t,n)=>{const e="button_"+t.id(),r=t.label(),i=t.labelposition(),o=document.createElementNS("http://www.w3.org/2000/svg","g"),a=S(o).attr("class",v.widget+" "+v.button).attr("id",e).attr("transform","translate("+t.x()+","+t.y()+")");var s;if(t.shape()=="rect"?s=a.append("rect").attr("width",t.size()).attr("height",t.size()).attr("transform","translate("+-t.size()/2+","+-t.size()/2+")").attr("rx",5).attr("ry",5):s=a.append("circle").attr("r",t.size()/2),s.attr("class",v.background).on("click",t.click).on("mouseover",function(){S(this).classed(v.lit,!0),S(this.parentNode).select("."+v.symbol).classed(v.lit,!0)}).on("mouseout",function(){S(this).classed(v.lit,!1),S(this.parentNode).select("."+v.symbol).classed(v.lit,!1)}),a.append("path").attr("d",ze(t.actions()[t.value()])(t.symbolsize()*t.size())).attr("class",v.symbol),r){const l=Ie(t.size(),t.size(),i);a.append("text").text(r).attr("class",v.label).style("text-anchor",l.anchor).style("font-size",t.fontsize()).style("alignment-baseline",l.valign).attr("transform","translate("+l.x+","+l.y+")")}return o},Ui=(t,n)=>{const e=N();return e.moveTo(0,n/2),e.arc(0,0,n/2,Math.PI/2,3*Math.PI/2,!1),e.lineTo(t,-n/2),e.arc(t,0,n/2,3*Math.PI/2,2*Math.PI+Math.PI/2,!1),e.closePath(),e.toString()},g0=(t,n)=>{const e=wn(".3f"),r="slider_"+t.id();t.labelposition();const i=t.range,o=t.size();t.label();const a=t.scale;var s;const l=document.createElementNS("http://www.w3.org/2000/svg","g");s=S(l).attr("class",v.widget+" "+v.slider).attr("id",r).attr("transform","translate("+t.x()+","+t.y()+")"),a.domain(i()).range([0,o]).clamp(!0);const u=t.knob()>t.girth()?t.knob():t.girth()/2;s.append("path").attr("d",Ui(t.size(),t.girth())).attr("class",v.track),s.append("circle").attr("class",v.handle).attr("r",t.knob()).attr("cx",a(t.value())),s.append("rect").attr("width",t.size()+2*u).attr("height",2*u).attr("transform","translate("+-u+","+-u+")").attr("class",v.track_overlay).on("click",function(p){const _=Un(p,this)[0];t.value(a.invert(_)),t.update(),t.update_end(),s.selectAll("."+v.handle).attr("cx",a(t.value())),t.show()&&s.select("."+v.label).text(t.label()+" = "+e(t.value()))}).call(es().on("drag",function(p){t.value(a.invert(p.x)),t.update(),s.selectAll("."+v.handle).attr("cx",a(t.value())),t.show()&&s.select("."+v.label).text(t.label()+" = "+e(t.value()))}).on("end",function(p){t.update_end()}));var h,d,c,f="bottom";return t.fontsize&&(d=t.labelposition().match(/bottom/i)!=null?Qt([t.girth()/2,t.knob()])+t.fontsize()/2:-Qt([t.girth()/2,t.knob()])-t.fontsize()/2),d=t.labelposition().match(/bottom/i)!=null?Qt([t.girth()/2,t.knob()])+7:-Qt([t.girth()/2,t.knob()])-7,h=t.labelposition().match(/right/i)!=null?t.size():t.labelposition().match(/center/i)!=null?t.size()/2:0,c=t.labelposition().match(/right/i)!=null?"end":t.labelposition().match(/center/i)!=null?"middle":"start",f=t.labelposition().match(/bottom/i)!=null?"hanging":"top",s.append("text").text(t.show()?t.label()+" = "+e(t.value()):t.label()).attr("class",v.label).style("text-anchor",c).style("alignment-baseline",f).style("font-size",t.fontsize()).style("opacity",1).attr("transform","translate("+h+","+d+")"),l},y0=(t,n)=>{const e="toggle_"+t.id(),r=t.size(),i=t.label(),o=t.labelposition(),a=document.createElementNS("http://www.w3.org/2000/svg","g"),s=S(a).attr("class",v.widget+" "+v.toggle).attr("id",e).attr("transform","translate("+(t.x()-r)+","+t.y()+")").classed(v.selected,t.value()==1);if(s.append("path").attr("d",Ui(2*t.size(),2*t.size())).attr("class",v.track),s.append("circle").attr("class",v.handle).attr("r",r).attr("cx",t.value()?2*r:0),s.append("rect").attr("width",4*t.size()).attr("height",2*t.size()).attr("class",v.track_overlay).attr("transform","translate("+-t.size()+","+-t.size()+")").on("click",t.click),i){const l=Ie(4*t.size(),2*t.size(),o);s.append("text").text(i).attr("class",v.label).style("text-anchor",l.anchor).style("font-size",t.fontsize()).style("alignment-baseline",l.valign).attr("transform","translate("+(l.x+r)+","+l.y+")")}return a},m0=(t,n)=>{const e="radio_"+t.id(),r=t.labelposition(),i=t.buttonsize(),o=t.buttonsize()*(1-t.buttonpadding()),a=t.choices().length,s=co(a),l=at().domain([0,a-1]).range([0,t.size()]),u=at().domain([0,a-1]).range([0,t.size()]),h=document.createElementNS("http://www.w3.org/2000/svg","g"),c=S(h).attr("class",v.widget+" "+v.radio).attr("id",e).attr("transform","translate("+t.x()+","+t.y()+")").selectAll("."+v.radiobutton).data(s).enter().append("g").attr("class",v.radiobutton).attr("id",g=>"b"+g).attr("transform",g=>t.orientation()=="vertical"?"translate(0,"+u(g)+")":"translate("+l(g)+",0)");var f,p;t.shape()=="rect"?(f=c.append("rect").attr("width",i).attr("height",i).attr("rx",2).attr("ry",2).attr("transform","translate("+-i/2+","+-i/2+")"),p=c.append("rect").attr("width",o).attr("height",o).attr("rx",2).attr("ry",2).attr("transform","translate("+-o/2+","+-o/2+")")):(f=c.append("circle").attr("r",i/2),p=c.append("circle").attr("r",o/2)),f.attr("class",v.background).on("mouseover",function(){S(this).classed(v.lit,!0),S(this.parentNode).select("."+v.symbol).classed(v.lit,!0)}).on("mouseout",function(){S(this).classed(v.lit,!1),S(this.parentNode).select("."+v.symbol).classed(v.lit,!1)}),p.attr("class",v.symbol),p.filter(g=>g==t.value()).classed(v.selected,!0),c.on("click",t.click);const _=Ie(t.buttonsize(),t.buttonsize(),r);return c.append("text").attr("class",v.label).text(function(g,m){return t.choices()[m]}).attr("alignment-baseline",_.valign).attr("transform","translate("+_.x+","+_.y+")").style("font-size",t.fontsize()).attr("text-anchor",_.anchor),h},Gi=(t,n)=>{switch(t.type){case"button":return d0(t);case"slider":return g0(t);case"radio":return m0(t);case"toggle":return y0(t)}},_0=(t,n)=>{const e=r0(n.controls_size.width,n.controls_size.height,n.controls_grid.nx,n.controls_grid.ny),r=S("#"+t).classed("explorable "+n.container_class,!0),i=r.append("div").attr("id","display").attr("class","display-panel").classed(n.display_class,!0).classed(n.debug_lattice,n.debug).append(n.display_type).attr("width",n.display_type=="canvas"?n.display_size.width:null).attr("height",n.display_type=="canvas"?n.display_size.height:null).attr("viewBox",n.display_type=="canvas"?null:"0 0 "+n.display_size.width+" "+n.display_size.height).style("width","100%"),o=r.append("div").attr("id","controls").attr("class","control-panel").classed(n.controls_class,!0).classed(n.debug_lattice,n.debug).append("svg").attr("viewBox","0 0 "+n.controls_size.width+" "+n.controls_size.height);return typeof n.controls_border=="string"&&n.controls_border.length>0&&o.style("border",n.controls_border),typeof n.display_border=="string"&&n.display_border.length>0&&i.style("border",n.display_border),n.debug&&o.selectAll(null).data(e.points).enter().append("circle").attr("r",2).attr("transform",a=>"translate("+a.x+","+a.y+")").style("fill","black"),{display:i,controls:o,grid:e}},M={widgets:{slider_size:400,slider_gap:2,slider_girth:14,slider_knob:16,slider_anchor:{x:1,y:5.5},legend_anchor:{x:1,y:11},legend_gap:4,legend:["Susceptible","Infected","Recovered"],playbutton_size:120,button_size:70,playbutton_anchor:{x:3,y:2},backbutton_anchor:{x:10,y:2},resetbutton_anchor:{x:7,y:2}},simulation:{delay:10,I_color:"#D2042D",S_color:"#40B5AD",R_color:"rgb(0,0,0)"}},B={N:50,seed_size:1,boundary:"dirichlet",infection_rate:{range:[0,1],default:.69},recovery_rate:{range:[0,.2],default:.1},waning_immunity_rate:{range:[0,.1],default:.01}},v0=t=>Zt(Hi(t),n=>{n[1].id=n[0],Ni(n[1],"label")||(n[1].label=Jp(mh(n[0]),/_/g," "))}),w0=t=>Zt(Hi(t),n=>n[1]),b0=(t,n)=>st(t,(e,r)=>e.widget=n[r]),x0=t=>Xp(t,n=>Ni(n,"range")),M0=(t,n)=>{var e=Math.abs(t.x-n.x),r=Math.abs(t.y-n.y);return Math.sqrt(e**2+r**2)},$0={legend:"_legend_bbbfp_1"},Re=x0(B);v0(Re);const Yi=w0(Re),Cn=Zt(Yi,t=>p0().id(t.id).label(t.label).range(t.range).value(t.default).size(M.widgets.slider_size).girth(M.widgets.slider_girth).knob(M.widgets.slider_knob));b0(Yi,Cn);const ut=Ce().actions(["play","pause"]),Rn=Ce().actions(["back"]),kn=Ce().actions(["rewind"]),T0=[ut,Rn,kn],A0=(t,n)=>{const e=n.position(M.widgets.slider_anchor.x,Ot(Cn.length).map(a=>M.widgets.slider_anchor.y+M.widgets.slider_gap*a)),r=n.position(Ot(M.widgets.legend.length).map(a=>M.widgets.legend_anchor.x+M.widgets.legend_gap*a),M.widgets.legend_anchor.y);Cn.forEach((a,s)=>a.position(e[s])),ut.position(n.position(M.widgets.playbutton_anchor.x,M.widgets.playbutton_anchor.y)).size(M.widgets.playbutton_size),kn.position(n.position(M.widgets.backbutton_anchor.x,M.widgets.backbutton_anchor.y)).size(M.widgets.button_size),Rn.position(n.position(M.widgets.resetbutton_anchor.x,M.widgets.resetbutton_anchor.y)).size(M.widgets.button_size),t.selectAll(null).data(Cn).enter().append(Gi),t.selectAll(null).data(T0).enter().append(Gi);const i=t.selectAll(null).data(M.widgets.legend).enter().append("g").attr("class",$0.legend).attr("transform",(a,s)=>"translate("+r[s].x+","+r[s].y+")");i.append("text").text(a=>a).attr("transform","translate(20,0)");const o=[M.simulation.S_color,M.simulation.I_color,M.simulation.R_color];i.append("circle").attr("r",10).attr("cy",-5).style("fill",(a,s)=>o[s])},S0=t=>{st(Re,n=>n.widget.reset(t,n.default))};zn([-1,1,0,0],[0,0,-1,1]),zn([-1,0,1,1,1,0,-1,-1],[-1,-1,-1,0,1,1,1,0]);const Fn=[1,0],Dn=[.5,Math.sqrt(3)/2],k=[{l:1,m:0,n:-1},{l:1,m:-1,n:0},{l:0,m:-1,n:1},{l:0,m:1,n:-1},{l:-1,m:0,n:1},{l:-1,m:1,n:0}],Ki=[[k[0],k[1]],[k[1],k[2]],[k[2],k[4]],[k[4],k[5]],[k[5],k[3]],[k[3],k[0]]];function P(t){return"id_l"+t.l+"m"+t.m+"n"+t.n}const P0=function(t){var n="periodic",e=1,r=e/(2*t+1);const i=[],o={};Ot(-t,t+1).forEach(function(c){Ot(-t,t+1).forEach(function(f){Ot(-t,t+1).forEach(function(p){c+f+p==0&&i.push({l:c,m:f,n:p,x:r*c*Fn[0]+r*f*Dn[0],y:r*c*Fn[1]+r*f*Dn[1]})})})}),i.forEach(function(c){o[P(c)]=c,c.cell=()=>{const f=1/Math.sqrt(3);return[{x:c.x+r/2,y:c.y+f*r/2},{x:c.x,y:c.y+f*r},{x:c.x-r/2,y:c.y+f*r/2},{x:c.x-r/2,y:c.y-f*r/2},{x:c.x,y:c.y-f*r},{x:c.x+r/2,y:c.y-f*r/2},{x:c.x+r/2,y:c.y+f*r/2}]},c.random_interior_point=()=>{const f=1/Math.sqrt(3),p=Math.random(),_=Math.random(),g=Math.floor(Math.random()*6)*2*Math.PI/6,m=r/2*Math.sqrt(p),x=r/2*Math.sqrt(p)*f*(1-2*_),T=Math.cos(g)*m-Math.sin(g)*x,y=Math.sin(g)*m+Math.cos(g)*x;return{x:c.x+T,y:c.y+y}}}),d(i);const a=function(c){return typeof c<"u"?(e=c,r=e/(2*t+1),i.forEach(f=>{f.x=r*f.l*Fn[0]+r*f.m*Dn[0],f.y=r*f.l*Fn[1]+r*f.m*Dn[1]}),this.L=e,this):e},s=function(c){var f=1/Math.sqrt(3);return[{x:c.x+Scale/t/2,y:c.y+f/2*Scale/t},{x:c.x,y:c.y+f*Scale/t},{x:c.x-Scale/t/2,y:c.y+f/2*Scale/t},{x:c.x-Scale/t/2,y:c.y-f/2*Scale/t},{x:c.x,y:c.y-f*Scale/t},{x:c.x+Scale/t/2,y:c.y-f/2*Scale/t},{x:c.x+Scale/t/2,y:c.y+f/2*Scale/t}]},l=function(c){return typeof c<"u"?(c=="dirichlet"?(n="dirichlet",h(i)):(n="periodic",d(i)),i.forEach(f=>{f.is_boundary=n=="dirichlet"&&(f.n==-t||f.n==t||f.l==-t||f.l==t||f.m==-t||f.m==t)}),this):n},u=function(){return n==="periodic"?null:Rp(i,c=>c.n==-t||c.n==t||c.l==-t||c.l==t||c.m==-t||c.m==t)};return{type:"hexagonal",L:e,N:t,size:1+3*t*(t+1),nodes:i,scale:a,boundary:l,boundary_cells:u,cell:s};function h(c){c.forEach(function(f){f.neighbors=[],k.forEach(function(p){const _=P({l:f.l+p.l,m:f.m+p.m,n:f.n+p.n}),g=o[_];typeof g<"u"&&f.neighbors.push(g)})}),c.forEach(function(f){f.triangles=[],Ki.forEach(function(p){const _=P({l:f.l+p[0].l,m:f.m+p[0].m,n:f.n+p[0].n}),g=P({l:f.l+p[1].l,m:f.m+p[1].m,n:f.n+p[1].n});typeof o[_]<"u"&&typeof o[g]<"u"&&f.triangles.push([o[_],o[g]])})})}function d(c){c.forEach(function(f){f.neighbors=[],k.forEach(function(p){var _=P({l:f.l+p.l,m:f.m+p.m,n:f.n+p.n});typeof o[_]>"u"&&(f.l+p.l==t+1&&Math.abs(f.m+p.m)<=t+1&&Math.abs(f.n+p.n)<=t&&(_=P({l:f.l+p.l-(2*t+1),m:f.m+p.m+(t+1),n:f.n+p.n+t})),f.l+p.l==-(t+1)&&Math.abs(f.m+p.m)<=t+1&&Math.abs(f.n+p.n)<=t&&(_=P({l:f.l+p.l+(2*t+1),m:f.m+p.m-(t+1),n:f.n+p.n-t})),f.m+p.m==t+1&&Math.abs(f.l+p.l)<=t&&Math.abs(f.n+p.n)<=t+1&&(_=P({m:f.m+p.m-(2*t+1),n:f.n+p.n+(t+1),l:f.l+p.l+t})),f.m+p.m==-(t+1)&&Math.abs(f.l+p.l)<=t&&Math.abs(f.n+p.n)<=t+1&&(_=P({m:f.m+p.m+(2*t+1),n:f.n+p.n-(t+1),l:f.l+p.l-t})),f.n+p.n==t+1&&Math.abs(f.l+p.l)<=t+1&&Math.abs(f.m+p.m)<=t&&(_=P({n:f.n+p.n-(2*t+1),l:f.l+p.l+(t+1),m:f.m+p.m+t})),f.n+p.n==-(t+1)&&Math.abs(f.l+p.l)<=t+1&&Math.abs(f.m+p.m)<=t&&(_=P({n:f.n+p.n+(2*t+1),l:f.l+p.l-(t+1),m:f.m+p.m-t}))),f.neighbors.push(o[_])})}),c.forEach(function(f){f.triangles=[],Ki.forEach(function(p){var _=[];p.forEach(function(g,m){var x=P({l:f.l+g.l,m:f.m+g.m,n:f.n+g.n});typeof o[x]>"u"&&(f.l+g.l==t+1&&Math.abs(f.m+g.m)<=t+1&&Math.abs(f.n+g.n)<=t&&P({l:f.l+g.l-(2*t+1),m:f.m+g.m+(t+1),n:f.n+g.n+t}),f.l+g.l==-(t+1)&&Math.abs(f.m+g.m)<=t+1&&Math.abs(f.n+g.n)<=t&&P({l:f.l+g.l+(2*t+1),m:f.m+g.m-(t+1),n:f.n+g.n-t}),f.m+g.m==t+1&&Math.abs(f.l+g.l)<=t&&Math.abs(f.n+g.n)<=t+1&&P({m:f.m+g.m-(2*t+1),n:f.n+g.n+(t+1),l:f.l+g.l+t}),f.m+g.m==-(t+1)&&Math.abs(f.l+g.l)<=t&&Math.abs(f.n+g.n)<=t+1&&P({m:f.m+g.m+(2*t+1),n:f.n+g.n-(t+1),l:f.l+g.l-t}),f.n+g.n==t+1&&Math.abs(f.l+g.l)<=t+1&&Math.abs(f.m+g.m)<=t&&P({n:f.n+g.n-(2*t+1),l:f.l+g.l+(t+1),m:f.m+g.m+t}),f.n+g.n==-(t+1)&&Math.abs(f.l+g.l)<=t+1&&Math.abs(f.m+g.m)<=t&&P({n:f.n+g.n+(2*t+1),l:f.l+g.l-(t+1),m:f.m+g.m-t})),_[m]=x}),f.triangles.push([o[_[0]],o[_[1]]])})})}};zn([-1,1,0,0],[0,0,-1,1]),zn([-1,0,1,1,1,0,-1,-1],[-1,-1,-1,0,1,1,1,0]);var rt=[];const E0=()=>{B.timer={},B.tick=0,rt=P0(B.N).boundary(B.boundary).nodes,rt.forEach(n=>{n.state="S",n.change=!0}),rt.filter(n=>M0(n,{x:0,y:0})<B.seed_size/B.N).forEach(n=>{n.state="I",n.change=!0})},O0=()=>{B.tick++,st(rt,e=>{e.change=!1});let t=rt.filter(e=>e.state=="I"),n=rt.filter(e=>e.state=="R");st(t,e=>{Math.random()<B.recovery_rate.widget.value()&&(e.state="R",e.change=!0)}),st(n,e=>{Math.random()<B.waning_immunity_rate.widget.value()&&(e.state="S",e.change=!0)}),t=rt.filter(e=>e.state=="I"),st(t0(t),e=>{const r=e.neighbors.filter(i=>i.state=="S");st(r,i=>{Math.random()<B.infection_rate.widget.value()&&(i.state="I",i.change=!0)})})};var it,ke,Fe;const De=at().domain([-.5,.5]),Le=at().domain([-.5,.5]),I0=Hr().domain(["S","I","R"]).range([M.simulation.S_color,M.simulation.I_color,M.simulation.R_color]);function Vi(t){t.forEach(n=>{const e=n.cell(),r=e.length,i=I0(n.state);it.fillStyle=i,it.beginPath(),it.moveTo(De(e[0].x),Le(e[0].y)),st(e,(o,a)=>it.lineTo(De(e[(a+1)%r].x),Le(e[(a+1)%r].y))),it.fill(),it.closePath()})}const z0=(t,n)=>{Vi(rt.filter(e=>e.change==!0))},C0=(t,n)=>{ke=n.display_size.width,Fe=n.display_size.height,De.range([0,ke]),Le.range([0,Fe]),it=t.node().getContext("2d"),it.translate(.5,.5),it.clearRect(0,0,ke,Fe),Vi(rt)};function R0(t,n){O0(),z0()}function Zi(t,n){E0(),C0(t,n)}var Wi={};const k0=(t,n)=>{ut.value()==1?Wi=Rs(()=>R0(),M.simulation.delay):Wi.stop()},F0=(t,n,e)=>{kn.update(()=>S0(n)),ut.update(()=>k0()),Rn.update(()=>Zi(t,e))},Ji={name:"@explorables/critical_hexsirsize",title:"Critical HexSIRSize",subtitle:"The stochastic, spatial SIRS model",description:"The explorable illustrates the behavior of a contagion process, like an epidemic. Susceptibles (S) can be infected by other infected sites (I), infected site become immune and recover (R), and when immunity wanes immune sites become susceptible again.",author:"Dirk Brockmann (https://synosy.github.io)"};function Qi(t,n=wt){const e=_0(t,n),r=e.display,i=e.controls,o=e.grid;return A0(i,o),F0(r,i,n),Zi(r,n),{halt(){ut.value()===1&&ut.press(i)},reset(){ut.value()===1&&ut.press(i),kn.press(i),Rn.press(i)},config:n,meta:Ji}}O.config=wt,O.default=Qi,O.load=Qi,O.meta=Ji,Object.defineProperties(O,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
